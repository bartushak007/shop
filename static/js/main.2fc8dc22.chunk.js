(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{117:function(e,t,a){e.exports={image:"image_image__3b1t_"}},120:function(e,t,a){e.exports={error:"font-icon_error__1mK-2",fontIcon:"font-icon_fontIcon__1637L"}},125:function(e,t,a){e.exports={lotsList:"lots-list_lotsList__2SeW9"}},129:function(e){e.exports=JSON.parse('{"welcom-title":"welcome title"}')},130:function(e){e.exports=JSON.parse('{"welcom-title":"\u0412\u0456\u0442\u0430\u044e \u0442\u0443\u0442"}')},131:function(e){e.exports=JSON.parse('{"welcom-title":"Ru"}')},132:function(e){e.exports=JSON.parse('{"nav":[{"link":"Home","to":"/","exact":true},{"link":"About","to":"/about"},{"link":"Privacy","to":"/privacy"}],"images":{"slider":["images/longImg.jpg"]},"goods":[{"src":"images/blue.jpg","title":"Title","text":["Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia.","Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia."],"reverse":false},{"src":"images/brown.jpg","title":"Title","text":["Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia.","Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia."],"reverse":true},{"src":"images/yellow.jpg","title":"Title","text":["Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia.","Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia."],"reverse":false}]}')},135:function(e,t,a){e.exports=a(218)},217:function(e,t,a){},218:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(19),c=a(52),l=a.n(c),i=a(29),s=a(45),u=a(6),m=a(41),d=a(33),_=a(98),p=a.n(_),b=function(e){var t=e.children,a=e.backgroundImg,r=e.backgroundColor;return n.a.createElement("div",{className:p.a.componentWide,style:{backgroundImage:"url(".concat(a,")"),backgroundColor:r}},n.a.createElement("div",{className:p.a.componentWide__inner},t))},f=(a(224),a(8)),v=a(23),h=a(15),E=a.n(h),O=a(116),g=a.n(O),j=a(28),x=a.n(j),S={name:"",email:"",text:"",phone:""};function y(e,t){switch(t.type){case"name":return Object(u.a)({},e,{name:t.payload});case"phone":return Object(u.a)({},e,{phone:t.payload});case"email":return Object(u.a)({},e,{email:{value:t.payload,error:!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t.payload)}});case"text":return Object(u.a)({},e,{text:t.payload});case"clear":return Object(u.a)({},S);default:throw new Error}}var k,L=function(){var e=Object(r.useReducer)(y,S),t=Object(v.a)(e,2),a=t[0],o=t[1];return n.a.createElement("form",{className:x.a.sendForm,onSubmit:function(e){e.preventDefault(),g.a.sendForm("iryna","template_Q0cWPtxM",e.target,"user_DNvGDlLmJeKu6MUJMWsRd").then((function(e){console.log(e.text),o({type:"clear"})}),(function(e){console.log(e.text)}))}},n.a.createElement("input",{type:"hidden",name:"contact_number"}),n.a.createElement("div",{className:x.a.sendForm__fieldContainer},n.a.createElement("label",null,"Name"),n.a.createElement("input",{className:x.a.sendForm__field,value:a.name,onChange:function(e){var t=e.target;return o({type:"name",payload:t.value})},type:"text",name:"from_name"})),n.a.createElement("div",{className:x.a.sendForm__fieldContainer},n.a.createElement("label",null,"Email"),n.a.createElement("input",{className:E()(x.a.sendForm__field,Object(f.a)({},x.a.error,a.email.error)),value:a.email.value,onChange:function(e){var t=e.target;return o({type:"email",payload:t.value})},type:"email",name:"user_email"})),n.a.createElement("div",{className:x.a.sendForm__fieldContainer},n.a.createElement("label",null,"Phone number"),n.a.createElement("input",{className:x.a.sendForm__field,value:a.phone,onChange:function(e){var t=e.target;return o({type:"phone",payload:t.value})},name:"phone_number"})),n.a.createElement("div",{className:x.a.sendForm__fieldContainer},n.a.createElement("label",null,"Message"),n.a.createElement("textarea",{className:x.a.sendForm__field,value:a.text,onChange:function(e){var t=e.target;return o({type:"text",payload:t.value})},name:"message_html"})),n.a.createElement("input",{className:x.a.sendForm__send,type:"submit",value:"Send",disabled:!a.phone&&a.email.error}))},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/shop".concat("/");return e.startsWith("http")?e:t.concat(e||"/images/noImg1.jpg")},N=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},C=a(117),R=a.n(C),T=function(e){var t=e.src,a=e.alt,r=e.className,o=Object(m.a)(e,["src","alt","className"]);return n.a.createElement("img",Object(u.a)({},o,{src:"string"===typeof t?w(t):t,alt:a,className:E()(R.a.image,r)}))},F=a(57),q=a.n(F),I=function(e){var t=e.src,a=e.reverse,r=e.title,o=e.text;return n.a.createElement("div",{className:E()(q.a.ShowBlock,Object(f.a)({},q.a.ShowBlock_reverse,a))},n.a.createElement("div",{className:q.a.ShowBlock__image},n.a.createElement(T,{src:t})),n.a.createElement("div",{className:q.a.ShowBlock__text},n.a.createElement("h2",{className:q.a.ShowBlock__title},r),o.map((function(e,t){return n.a.createElement("p",{key:t},e)}))))},U=a(13),V=a.n(U),M=a(226),B=a(223),W=a(9),A=(a(86),a(118));function D(e){return J.apply(this,arguments)}function J(){return(J=Object(A.a)(V.a.mark((function e(t){var a,r,n,o,c,l,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.params,r=void 0===a?{}:a,n=t.url,o=t.method,"get"!==(c=void 0===o?"get":o).toLowerCase()){e.next=7;break}return e.next=4,fetch(n);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,fetch(n,{method:c||"get",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 9:e.t0=e.sent;case 10:return l=e.t0,e.next=13,l.json();case 13:if((i=e.sent).success){e.next=16;break}return e.abrupt("return",new Error);case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=V.a.mark(ne),Q=V.a.mark(oe),X=V.a.mark(ce),G=V.a.mark(le),H=Object(M.a)("USER/REGISTER_REQUEST"),K=Object(M.a)("USER/REGISTER_SUCCESS"),Z=Object(M.a)("USER/LOGIN_REQUEST"),Y=Object(M.a)("USER/LOGIN_SUCCESS"),z=Object(M.a)("USER/SET_USER"),$=Object(M.a)("USER/LOG_OUT"),ee={load:!1,loadRegister:!1,id:"",name:"",secondName:"",login:"",dateOfBirth:"",token:""},te=Object(B.a)((k={},Object(f.a)(k,Z,(function(e){return Object(u.a)({},e,{load:!0})})),Object(f.a)(k,Y,(function(e){return Object(u.a)({},e,{load:!1})})),Object(f.a)(k,z,(function(e,t){var a=t.payload;return Object(u.a)({},e,{},a)})),Object(f.a)(k,$,(function(){return ee})),Object(f.a)(k,H,(function(e){return Object(u.a)({},e,{loadRegister:!0})})),Object(f.a)(k,K,(function(e){return Object(u.a)({},e,{loadRegister:!1})})),k),ee),ae=function(e){return e.user},re=function(e){return e.user.loadRegister};function ne(){var e,t,a,r,n;return V.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,Object(W.e)(Z);case 3:return e=o.sent,t=e.payload,a=t.login,r=t.password,o.prev=7,o.next=10,D({params:{login:a,password:r},url:"https://shop-app-brtshk.herokuapp.com/api/authentication/auth",method:"post"});case 10:return n=o.sent,o.next=13,Object(W.c)(z(Object(u.a)({token:n.token},n.data)));case 13:return o.next=15,Object(W.c)(Y());case 15:localStorage.setItem("user",JSON.stringify({user:Object(u.a)({token:n.token},n.data)})),o.next=23;break;case 18:return o.prev=18,o.t0=o.catch(7),console.error("authentication/auth",o.t0),o.next=23,Object(W.c)(Y());case 23:o.next=0;break;case 25:case"end":return o.stop()}}),P,null,[[7,18]])}function oe(){var e,t,a;return V.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(W.e)(H);case 3:return e=r.sent,t=e.payload,r.prev=5,r.next=8,D({params:Object(u.a)({},t),url:"https://shop-app-brtshk.herokuapp.com/api/authentication/register",method:"post"});case 8:return a=r.sent,r.next=11,Object(W.c)(K());case 11:console.log(a),r.next=19;break;case 14:return r.prev=14,r.t0=r.catch(5),console.error("authentication/register",r.t0),r.next=19,Object(W.c)(K());case 19:r.next=0;break;case 21:case"end":return r.stop()}}),Q,null,[[5,14]])}function ce(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(W.e)($);case 3:localStorage.removeItem("user"),e.next=0;break;case 6:case"end":return e.stop()}}),X)}function le(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)([ne(),ce(),oe()]);case 2:case"end":return e.stop()}}),G)}var ie=a(44),se=a(82),ue=a.n(se),me=function(){return n.a.createElement("div",{className:ue.a.loaderWrapper},n.a.createElement("div",{className:ue.a.loader}))};me.Wrapper=function(e){var t=e.children,a=e.pageLoad;return n.a.createElement("div",{className:ue.a.wrapper},a&&n.a.createElement(me,null),t)};var de=me,_e=a(58),pe=a.n(_e),be=function(e){var t=e.handler,a=e.className,r=e.name,o=e.load,c=e.disabled,l=e.children,i=e.submit;return n.a.createElement("div",{className:E()(pe.a.buttonWrapper,a)},n.a.createElement("button",{onClick:t,disabled:c,className:E()(i?pe.a.submitButton:pe.a.button,Object(f.a)({},pe.a.buttonTransparentText,o))},o&&n.a.createElement("div",{className:pe.a.submitButton_load}),r||l))},fe=a(119),ve=a(121),he=a(120),Ee=a.n(he),Oe=a(83),ge={telegram:Oe.c,instagram:Oe.b,facebook:Oe.a,search:ve.a},je=function(e){var t=e.iconKey,a=e.link,r=e.className,o=e.iconClassName,c=e.blank,l=e.click,i=void 0===l?function(){}:l,s=n.a.createElement(fe.a,{className:o||"",icon:ge[t],onClick:i});return n.a.createElement(n.a.Fragment,null,a?n.a.createElement("a",{className:E()(Ee.a.fontIcon,r),href:a||"#",target:a&&c?"_blank":"_self"},s):s)},xe=a(59),Se=a.n(xe),ye=function(e){var t=e.languages;return n.a.createElement("div",{className:Se.a.languages},t.map((function(e,a){return n.a.createElement("div",{key:e,className:Se.a.languages},n.a.createElement("span",{onClick:function(){return ie.a.changeLanguage(e)}},n.a.createElement("span",{className:E()(Se.a.languages__lang,Object(f.a)({},Se.a.languages__lang_first,0===a))},e)),n.a.createElement("span",{className:Se.a.languages__divider},a<t.length-1&&" | "))})))},ke=a(60),Le=a.n(ke),we=function(e){var t=e.user,a=e.history,r=e.logOut;return n.a.createElement("div",{className:Le.a.userMenu},t.name?n.a.createElement("div",null,n.a.createElement("span",null,"Welcome, ",N(t.name)," ",N(t.secondName)),n.a.createElement("div",{className:Le.a.userMenu__drop},n.a.createElement("div",{className:Le.a.userMenu__dropItem,onClick:function(){return a&&a.push("/user/profile")}},"Profile"),n.a.createElement("div",{className:Le.a.userMenu__dropItem,onClick:function(){return a&&a.push("/user/lots")}},"Lots"),n.a.createElement("div",{className:Le.a.userMenu__dropItem,onClick:r},"Log out"))):n.a.createElement(n.a.Fragment,null,n.a.createElement(i.b,{to:"/authentication/login"},"Login")," /"," ",n.a.createElement(i.b,{to:"/authentication/registration"},"Registration")))},Ne=a(61),Ce=a.n(Ne),Re=function(e){var t=e.t,a=e.user,r=e.logOut,o=e.history,c=ie.a.languages;return n.a.createElement(b,{backgroundColor:"#122538"},n.a.createElement("div",{className:Ce.a.header_top},n.a.createElement(ye,{languages:c}),n.a.createElement(we,{user:a,history:o,logOut:r})),n.a.createElement("div",{className:Ce.a.header},n.a.createElement("div",null,n.a.createElement(i.b,{to:"/"},n.a.createElement("h1",{className:Ce.a.header__logo},t("ONLINE-SHOP")))),n.a.createElement("div",{className:Ce.a.header__search},n.a.createElement(je,{iconClassName:Ce.a.header__searchIcon,iconKey:"search"}),n.a.createElement("input",null))))};var Te=Object(s.f)(Object(d.b)()(Object(o.b)((function(e){return{user:ae(e)}}),{logOut:$})((function(e){return n.a.createElement(Re,e)})))),Fe=a(225),qe=a(51),Ie=a.n(qe),Ue=Object(d.b)()((function(e){var t=e.t,a=Object(r.useContext)(qa).nav;return n.a.createElement(b,{backgroundColor:"black"},n.a.createElement("div",{className:Ie.a.footer},n.a.createElement("div",null,a.map((function(e){var a=e.link,r=e.to,o=e.exact;return n.a.createElement(i.c,{exact:o,key:a+r,className:Ie.a.nav,activeClassName:Ie.a.nav__active,to:r},t(a))}))),n.a.createElement(Fe.a,{horizontal:!0},n.a.createElement("div",{className:Ie.a.footer__icon},n.a.createElement(je,{iconKey:"telegram"})),n.a.createElement("div",{className:Ie.a.footer__icon},n.a.createElement(je,{iconKey:"instagram"})),n.a.createElement("div",{className:Ie.a.footer__icon},n.a.createElement(je,{iconKey:"facebook"})))))})),Ve=Object(d.b)()((function(e){var t=e.children;return n.a.createElement("div",null,t)}));Ve.Header=Te,Ve.Footer=Ue;var Me,Be=Ve,We=a(16),Ae=a(17),De=a(20),Je=a(21),Pe=a(22),Qe=V.a.mark(et),Xe=V.a.mark(tt),Ge=Object(M.a)("LOTS/LOTS_REQUEST"),He=Object(M.a)("LOTS/LOTS_SUCCESS"),Ke=Object(M.a)("LOTS/SET_LOTS"),Ze=Object(M.a)("LOTS/RESET"),Ye={load:!1,lots:[]},ze=Object(B.a)((Me={},Object(f.a)(Me,Ge,(function(e){return Object(u.a)({},e,{load:!0})})),Object(f.a)(Me,He,(function(e){return Object(u.a)({},e,{load:!1})})),Object(f.a)(Me,Ke,(function(e,t){var a=t.payload;return Object(u.a)({},e,{lots:a})})),Object(f.a)(Me,Ze,(function(){return Ye})),Me),Ye),$e=function(e){return e.lots};function et(){var e;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(W.e)(Ge);case 3:return t.prev=3,t.next=6,D({url:"https://shop-app-brtshk.herokuapp.com/api/products"});case 6:return e=t.sent,console.log(e),t.next=10,Object(W.c)(Ke(e.data));case 10:return t.next=12,Object(W.c)(He());case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(3),console.error("get products",t.t0),t.next=19,Object(W.c)(He());case 19:t.next=0;break;case 21:case"end":return t.stop()}}),Qe,null,[[3,14]])}function tt(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)([et()]);case 2:case"end":return e.stop()}}),Xe)}var at=a(26),rt=a.n(at),nt=function(e){var t=e._id,a=e.productName,r=e.description,o=e.urlImage,c=e.quantity,l=(e.added,e.characteristic,e.price),i=(e.asset,e.user_id,e.edit),s=e.history;return n.a.createElement("div",{className:rt.a.lot},n.a.createElement("div",{className:rt.a.lot__container},n.a.createElement("div",{className:rt.a.lot__image},n.a.createElement(T,{src:o,style:{height:"200px"}}),i&&n.a.createElement(be,{className:rt.a.lot__edit,handler:function(){return s&&s.push("/lots-constructor/".concat(t))}},"Edit")),n.a.createElement("div",{className:rt.a.lot__textContainer},n.a.createElement("div",{className:rt.a.lot__title},a),n.a.createElement("div",null,n.a.createElement("div",{className:rt.a.lot__buyDescription},n.a.createElement("div",{className:rt.a.lot__price},l||"0"),n.a.createElement("div",null,n.a.createElement("span",{className:rt.a.lot__fieldTitle},"quantity:")," ",c||"0")),n.a.createElement("div",{className:rt.a.lot__description},n.a.createElement("div",null,"Description:"),n.a.createElement("div",null,r))))))};nt.Add=function(e){var t=e.hendler;return n.a.createElement("div",{className:rt.a.lot},n.a.createElement("div",{className:rt.a.lot__plus,onClick:t}))};var ot=nt,ct=a(125),lt=a.n(ct),it=function(e){var t=e.pageLoad,a=e.lots,r=e.children,o=e.edit,c=Object(m.a)(e,["pageLoad","lots","children","edit"]);return n.a.createElement(de.Wrapper,{pageLoad:t},n.a.createElement(b,null,n.a.createElement("div",{className:lt.a.lotsList},r,a.map((function(e){return n.a.createElement(ot,Object.assign({key:e._id},e,c,{edit:o}))})))))};it.AddLot=function(e){var t=e.hendler;return n.a.createElement(ot.Add,{hendler:t})};var st,ut=it,mt=function(e){function t(){return Object(We.a)(this,t),Object(De.a)(this,Object(Je.a)(t).apply(this,arguments))}return Object(Pe.a)(t,e),Object(Ae.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.lotsRequest)()}},{key:"render",value:function(){var e=this.props.lots,t=e.lots,a=e.load;return console.log(this.props),n.a.createElement("div",null,n.a.createElement(ut,{lots:t,pageLoad:a}))}}]),t}(r.Component),dt={lotsRequest:Ge},_t=Object(o.b)((function(e){return{lots:$e(e)}}),dt)(mt),pt=Object(d.b)()(Object(o.b)((function(e){return Object(u.a)({},e)}))((function(e){e.t,Object(m.a)(e,["t"]);var t=Object(r.useContext)(qa);return n.a.createElement(Be,null,n.a.createElement(Be.Header,null),n.a.createElement("div",null,n.a.createElement(b,null,n.a.createElement(_t,null)),n.a.createElement(b,{backgroundColor:"#ccc"},n.a.createElement(L,null)),t.goods.map((function(e,t){return n.a.createElement(b,{key:t+e.src},n.a.createElement(I,e))}))),n.a.createElement(Be.Footer,null))}))),bt=function(e){var t=e.onSubmit,a=e.onSetField,r=e.login,o=e.password,c=e.user;return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:t},n.a.createElement("div",null,n.a.createElement("input",{name:"login",type:"text",value:r,onChange:a})),n.a.createElement("div",null,n.a.createElement("input",{name:"password",value:o,type:"password",onChange:a})),n.a.createElement("div",null,n.a.createElement("button",null,c.load?"load...":"Login"))))},ft=function(e){function t(){var e;return Object(We.a)(this,t),(e=Object(De.a)(this,Object(Je.a)(t).call(this))).resetForm=function(){return e.setState({login:"",password:""})},e.onSetField=function(t){var a=t.target;return e.setState(Object(f.a)({},a.name,a.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,r=a.login,n=a.password;(0,e.props.loginRequest)({login:r,password:n})},e.state={login:"mYyyyyyyy",password:"yyyyyyyyy"},e}return Object(Pe.a)(t,e),Object(Ae.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.history,r=this.state,o=r.login,c=r.password;return t.name&&a.push("/"),n.a.createElement(bt,{onSubmit:this.onSubmit,onSetField:this.onSetField,login:o,password:c,user:t})}}]),t}(r.Component),vt={loginRequest:Z},ht=Object(o.b)((function(e){return{user:ae(e)}}),vt)(ft),Et=a(126),Ot=a.n(Et),gt=a(127),jt=a.n(gt),xt=(a(159),function(e){var t=e.onSubmit,a=e.onSetField,r=e.fields,o=e.load;return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:t},Object.entries(r).map((function(e){var t=Object(v.a)(e,2),r=t[0],o=t[1].value;return n.a.createElement("div",{key:r},n.a.createElement("label",null,r),"dateOfBirth"===r?n.a.createElement(jt.a,{dateFormat:"dd.MM.yyyy",selected:o,onChange:function(e){return a({target:{name:"dateOfBirth",value:e}})}}):n.a.createElement("input",{name:r,type:"text",value:o,onChange:a}))})),n.a.createElement("div",null,n.a.createElement("button",null,o?"load...":"Register"))))}),St=function(e){function t(){var e;return Object(We.a)(this,t),(e=Object(De.a)(this,Object(Je.a)(t).call(this))).resetForm=function(){return e.setState({login:"",password:""})},e.onSetField=function(t){var a=t.target,r=e.state.fields;e.setState({fields:Object(u.a)({},r,Object(f.a)({},a.name,Object(u.a)({},r[a.name],{value:a.value})))})},e.onSubmit=function(t){t.preventDefault();var a=e.state.fields;(0,e.props.registerRequest)(Object.entries(a).reduce((function(e,t){var a=Object(v.a)(t,2),r=a[0],n=a[1].value;return Object(u.a)({},e,Object(f.a)({},r,"dateOfBirth"===r?Ot()(n).format("YYYY_MM_DD"):n))}),{}))},e.state={fields:{name:{value:""},secondName:{value:""},login:{value:""},password:{value:""},dateOfBirth:{value:""},email:{value:""}}},e}return Object(Pe.a)(t,e),Object(Ae.a)(t,[{key:"render",value:function(){var e=this.props,t=e.load,a=(e.history,this.state.fields);return n.a.createElement(xt,{fields:a,onSubmit:this.onSubmit,onSetField:this.onSetField,load:t})}}]),t}(r.Component),yt={registerRequest:H},kt=Object(o.b)((function(e){return{load:re(e)}}),yt)(St),Lt=function(e){return n.a.createElement(Be,null,n.a.createElement(Be.Header,null),e.location.pathname.includes("login")?n.a.createElement(ht,e):n.a.createElement(kt,e))},wt=function(e){function t(){var e;return Object(We.a)(this,t),(e=Object(De.a)(this,Object(Je.a)(t).call(this))).state={},e}return Object(Pe.a)(t,e),Object(Ae.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user;e.history;return n.a.createElement("div",null,Object.entries(t).map((function(e){var t=Object(v.a)(e,2),a=t[0],r=t[1];return n.a.createElement("div",{key:a},a,":",r)})))}}]),t}(r.Component),Nt=Object(o.b)((function(e){return{user:ae(e)}}),{})(wt),Ct=function(e){return n.a.createElement(Be,null,n.a.createElement(Be.Header,null),n.a.createElement(Nt,e),n.a.createElement(Be.Footer,null))},Rt=a(79),Tt=V.a.mark($t),Ft=V.a.mark(ea),qt=V.a.mark(aa),It=V.a.mark(na),Ut=V.a.mark(oa),Vt=Object(M.a)("USER_LOTS/USER_LOTS_REQUEST"),Mt=Object(M.a)("oneUserLotRequest"),Bt=Object(M.a)("USER_LOTS/USER_LOTS_SUCCESS"),Wt=Object(M.a)("USER_LOTS/SET_USER_LOTS"),At=Object(M.a)("USER_LOTS/CREATE_LOT_REQUEST"),Dt=Object(M.a)("USER_LOTS/SET_CREATE_LOT"),Jt=Object(M.a)("USER_LOTS/FILL_IN_CREATE_LOT"),Pt=Object(M.a)("USER_LOTS/SET_CREATE_LOT_VALUE"),Qt=Object(M.a)("USER_LOTS/CREATE_LOT_SUCCESS"),Xt=Object(M.a)("USER_LOTS/RESET"),Gt=Object(M.a)("USER_LOTS/RESET_CREATE_LOT"),Ht={productName:{value:"",isValid:!0,error:"",validationRules:{minLength:5,isRequired:!0},fieldType:"label"},description:{value:"",isValid:!0,error:"",validationRules:{minLength:10,maxLength:200,isRequired:!0},fieldType:"textarea"},urlImage:{value:"",isValid:!0,error:"",validationRules:{isRequired:!1},fieldType:"label"},quantity:{value:"",isValid:!0,error:"",validationRules:{type:"number",isRequired:!0},fieldType:"label"},added:{value:"",isValid:!0,error:"",validationRules:{isRequired:!0},fieldType:"label",readOnly:!0},characteristic:{value:"",isValid:!0,error:"",validationRules:{minLength:10,maxLength:500,isRequired:!0},fieldType:"label"},asset:{value:"",isValid:!0,error:"",validationRules:{isRequired:!0},fieldType:"label"},price:{value:"",isValid:!0,error:"",validationRules:{type:"number",isRequired:!0},fieldType:"label"}},Kt={load:!1,userLots:[],createLot:Ht,createlotLoading:!1},Zt=Object(B.a)((st={},Object(f.a)(st,Vt,(function(e){return Object(u.a)({},e,{load:!0})})),Object(f.a)(st,Mt,(function(e){return Object(u.a)({},e,{load:!0})})),Object(f.a)(st,Bt,(function(e){return Object(u.a)({},e,{load:!1})})),Object(f.a)(st,Wt,(function(e,t){var a=t.payload;return Object(u.a)({},e,{userLots:a})})),Object(f.a)(st,Xt,(function(){return Kt})),Object(f.a)(st,At,(function(e){return Object(u.a)({},e,{createlotLoading:!0})})),Object(f.a)(st,Qt,(function(e){return Object(u.a)({},e,{createlotLoading:!1})})),Object(f.a)(st,Dt,(function(e){return Object(u.a)({},e)})),Object(f.a)(st,Jt,(function(e,t){var a=t.payload;return Object(u.a)({},e,{createLot:a})})),Object(f.a)(st,Pt,(function(e,t){var a=t.payload;return Object(u.a)({},e,{createLot:Object(u.a)({},e.createLot,Object(f.a)({},a.key,Object(u.a)({},e.createLot[a.key],{value:a.value},ra({validationRules:e.createLot[a.key].validationRules,value:a.value}))))})})),Object(f.a)(st,Gt,(function(e){return Object(u.a)({},e,{createLot:Ht})})),st),Kt),Yt=function(e){return e.userLots},zt=function(e){return e.userLots.createLot};function $t(){var e,t;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(W.c)(Mt());case 2:return a.next=4,Object(W.d)(ae);case 4:return e=a.sent,a.prev=5,a.next=8,D({params:{token:e.token},url:"https://shop-app-brtshk.herokuapp.com/api/products/userid/".concat(e.id,"?token=").concat(e.token),method:"get"});case 8:return t=a.sent,console.log(t),a.next=12,Object(W.c)(Wt(t.data));case 12:return a.next=14,Object(W.c)(Bt());case 14:a.next=21;break;case 16:return a.prev=16,a.t0=a.catch(5),console.error("get user lots",a.t0),a.next=21,Object(W.c)(Bt());case 21:case"end":return a.stop()}}),Tt,null,[[5,16]])}function ea(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(W.e)(Vt);case 3:return e.next=5,Object(W.b)($t);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),Ft)}function ta(e){return Object.entries(e).reduce((function(e,t){var a=Object(v.a)(t,2),r=a[0],n=a[1].value;return Object(u.a)({},e,Object(f.a)({},r,n))}),{})}function aa(){var e,t,a,r,n,o;return V.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=3,Object(W.e)(At);case 3:return e=c.sent,t=e.payload,c.next=7,Object(W.d)(ae);case 7:return a=c.sent,c.next=10,Object(W.d)(Yt);case 10:return r=c.sent,c.next=13,Object(W.d)(zt);case 13:return n=c.sent,c.prev=14,c.next=17,D({params:Object(u.a)({},ta(n),{user_id:a.id,token:a.token}),url:t?"https://shop-app-brtshk.herokuapp.com/api/products/".concat(t):"https://shop-app-brtshk.herokuapp.com/api/products",method:t?"put":"post"});case 17:if(!(o=c.sent)){c.next=22;break}if(t){c.next=22;break}return c.next=22,Object(W.c)(Wt([].concat(Object(Rt.a)(r.userLots),[Object(u.a)({},o.data)])));case 22:return c.next=24,Object(W.c)(Qt());case 24:return c.next=26,Object(W.c)(Gt());case 26:c.next=33;break;case 28:return c.prev=28,c.t0=c.catch(14),console.error("create lot",c.t0),c.next=33,Object(W.c)(Qt());case 33:c.next=0;break;case 35:case"end":return c.stop()}}),qt,null,[[14,28]])}function ra(e){var t=e.validationRules,a=e.value;if(t){if(t.isRequired&&!a.length)return{isValid:!1,error:"The field is required."};if(t.minLength&&a.length<t.minLength)return{isValid:!1,error:"The field must be at least ".concat(t.minLength," characters long.")};if(t.maxLength&&a.length>t.maxLength)return{isValid:!1,error:"The field must be bigger then ".concat(t.maxLength," characters long.")};if("number"===t.type&&!parseInt(a))return{isValid:!1,error:"The field must contains only numbers."}}return{isValid:!0,error:""}}function na(){var e;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=V.a.mark((function e(){var t,a,r,n,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.e)(Dt);case 2:return t=e.sent,a=t.payload,e.next=6,Object(W.d)(zt);case 6:return r=e.sent,e.next=9,Object(W.d)(Yt);case 9:if((n=e.sent).length){e.next=16;break}return e.next=13,Object(W.b)($t);case 13:return e.next=15,Object(W.d)(Yt);case 15:n=e.sent;case 16:if(!(o=n.userLots.filter((function(e){return e._id===a}))[0])){e.next=20;break}return e.next=20,Object(W.c)(Jt({productName:Object(u.a)({},r.productName,{value:o.productName}),description:Object(u.a)({},r.description,{value:o.description}),urlImage:Object(u.a)({},r.urlImage,{value:o.urlImage}),quantity:Object(u.a)({},r.quantity,{value:o.quantity}),added:Object(u.a)({},r.added,{value:o.added}),characteristic:Object(u.a)({},r.characteristic,{value:o.characteristic}),asset:Object(u.a)({},r.asset,{value:o.asset}),price:Object(u.a)({},r.price,{value:o.price})}));case 20:case"end":return e.stop()}}),e)}));case 1:return t.delegateYield(e(),"t0",3);case 3:t.next=1;break;case 5:case"end":return t.stop()}}),It)}function oa(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)([ea(),aa(),na()]);case 2:case"end":return e.stop()}}),Ut)}var ca=function(e){function t(){var e,a;Object(We.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(De.a)(this,(e=Object(Je.a)(t)).call.apply(e,[this].concat(n)))).callLotConstructor=function(){var e=a.props.history;e&&e.push("/lots-constructor")},a}return Object(Pe.a)(t,e),Object(Ae.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.userLotsRequest)()}},{key:"render",value:function(){var e=this.props,t=e.userLots,a=t.userLots,r=t.load,o=Object(m.a)(e,["userLots"]);return n.a.createElement("div",null,n.a.createElement(ut,Object.assign({lots:a,pageLoad:r,edit:!0},o),n.a.createElement(ut.AddLot,{hendler:this.callLotConstructor})))}}]),t}(r.Component),la={userLotsRequest:Vt},ia=Object(o.b)((function(e){return{userLots:Yt(e)}}),la)(ca),sa=function(e){return n.a.createElement(Be,null,n.a.createElement(Be.Header,null),n.a.createElement(ia,e),n.a.createElement(Be.Footer,null))},ua=function(e){return n.a.createElement(Be,null,n.a.createElement(Be.Header,null),n.a.createElement(_t,e),n.a.createElement(Be.Footer,null))},ma=a(66),da=a.n(ma),_a=a(84),pa=a.n(_a),ba=function(e){var t=e.onSubmit,a=e.onSetField,r=e.fields,o=e.submitLoad;e.pageLoad;return n.a.createElement("form",{className:pa.a.constructorForm,onSubmit:t},Object.entries(r).map((function(e){var t=Object(v.a)(e,2),r=t[0],o=t[1],c=o.value,l=o.error,i=o.fieldType;return n.a.createElement("div",{key:r},n.a.createElement("label",{style:{width:"150px"}},r),n.a.createElement("div",null,"textarea"===i&&n.a.createElement("textarea",{name:r,type:"text",value:c,onChange:a}),(!i||"label"===i)&&n.a.createElement("input",{name:r,type:"text",value:c,onChange:a})),l&&n.a.createElement("div",{className:"error"},l),"urlImage"===r&&n.a.createElement("div",{className:pa.a.constructorForm__img},n.a.createElement(T,{src:c})))})),n.a.createElement("div",{className:E()(pa.a.constructorForm__save,{load:o})},n.a.createElement(be,{submit:!0,load:o},"SAVE")))},fa=function(e){var t=e.onSubmit,a=e.onSetField,r=e.fields,o=e.lotFields,c=e.updateMod,l=e.submitLoad,i=e.pageLoad;return n.a.createElement(de.Wrapper,{pageLoad:i},n.a.createElement(b,null,n.a.createElement("div",{className:da.a.lotConstructorView},n.a.createElement("h2",{className:da.a.lotConstructorView__title},c?"Update your Lot":"Create your Lot",":"),n.a.createElement("div",{className:da.a.lotConstructorView__wrap},n.a.createElement(ba,{onSubmit:t,onSetField:a,fields:r,submitLoad:l,pageLoad:i}),n.a.createElement("div",{className:da.a.lotConstructorView__preview},n.a.createElement(ot,o))))))},va=function(e){function t(){var e;return Object(We.a)(this,t),(e=Object(De.a)(this,Object(Je.a)(t).call(this))).onSetField=function(t){var a=t.target;(0,e.props.setCreateLotValue)({key:a.name,value:a.value})},e.onSubmit=function(t){t.preventDefault();var a=e.props,r=a.match.params;(0,a.createLotRequest)(r.id)},e}return Object(Pe.a)(t,e),Object(Ae.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params,a=e.setCreateLot;t.id&&a(t.id)}},{key:"componentWillUnmount",value:function(){(0,this.props.resetCreateLot)()}},{key:"render",value:function(){var e=this.props,t=e.createLot,a=e.userLots;return n.a.createElement(fa,{pageLoad:a.load,submitLoad:a.createlotLoading,onSubmit:this.onSubmit,onSetField:this.onSetField,fields:t,lotFields:Object(u.a)({},ta(t))})}}]),t}(r.Component),ha={createLotRequest:At,setCreateLot:Dt,setCreateLotValue:Pt,resetCreateLot:Gt},Ea=Object(o.b)((function(e){return{userLots:Yt(e),createLot:zt(e)}}),ha)(Object(s.f)(va)),Oa=function(e){return n.a.createElement(Be,null,n.a.createElement(Be.Header,null),n.a.createElement(Ea,null),n.a.createElement(Be.Footer,null))};var ga=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(i.a,null,n.a.createElement(s.c,null,n.a.createElement(s.a,{exact:!0,path:"/",component:pt}),n.a.createElement(s.a,{path:"/lots",component:ua}),n.a.createElement(s.a,{path:"/authentication/login",component:Lt}),n.a.createElement(s.a,{path:"/authentication/registration",component:Lt}),n.a.createElement(s.a,{path:"/user/profile",component:Ct}),n.a.createElement(s.a,{path:"/user/lots",component:sa}),n.a.createElement(s.a,{path:"/lots-constructor/:id",component:Oa}),n.a.createElement(s.a,{path:"/lots-constructor",component:Oa}),n.a.createElement(s.a,{path:"/about"},n.a.createElement("div",null,"456")),n.a.createElement(s.a,null,n.a.createElement("div",null,"789")))," "))},ja={en:{translation:a(129)},ua:{translation:a(130)},ru:{translation:a(131)}};ie.a.use(d.a).init({resources:ja,lng:"en",fallbackLng:["en","ua","ru"],keySeparator:!1,interpolation:{escapeValue:!1}});ie.a,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(216);var xa=a(132),Sa=a(34),ya=a(133),ka={user:te,userLots:Zt,lots:ze},La=V.a.mark(wa);function wa(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)([le(),oa(),tt()]);case 2:case"end":return e.stop()}}),La)}var Na={};try{Na=JSON.parse(localStorage.getItem("user"))||{}}catch(Ia){console.error("set initial state error: ",Ia)}var Ca="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Sa.d,Ra=Object(ya.a)(),Ta=Object(Sa.e)(Object(Sa.c)(ka),Na,Ca(Object(Sa.a)(Ra,(function(e){return function(e){return function(t){e(Object(u.a)({},t))}}}))));Ra.run(wa);var Fa=Ta;a(217);a.d(t,"DataContext",(function(){return qa}));var qa=n.a.createContext({});l.a.render(n.a.createElement(o.a,{store:Fa},n.a.createElement(qa.Provider,{value:xa},n.a.createElement(ga,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},26:function(e,t,a){e.exports={error:"lot_error__3Ew4r",lot:"lot_lot__3N6PX",lot__textContainer:"lot_lot__textContainer__2xbDI",lot__title:"lot_lot__title__2aA2n",lot__description:"lot_lot__description__2qF7t",lot__container:"lot_lot__container__2EoQx",lot__image:"lot_lot__image__FjuSV",lot__buyDescription:"lot_lot__buyDescription__3avXz",lot__fieldTitle:"lot_lot__fieldTitle__2bFCG",lot__price:"lot_lot__price__10j38",lot__edit:"lot_lot__edit__21lgJ",lot__plus:"lot_lot__plus__j8xfy"}},28:function(e,t,a){e.exports={error:"send-form_error__24ync",sendForm:"send-form_sendForm__3XRrG",sendForm__field:"send-form_sendForm__field__upvfZ",sendForm__fieldContainer:"send-form_sendForm__fieldContainer__2IJEq",sendForm__send:"send-form_sendForm__send__2A-nG"}},51:function(e,t,a){e.exports={error:"footer_error__CpAe2",footer:"footer_footer__ANhX2",footer__icon:"footer_footer__icon__3ZWoM",nav:"footer_nav__3QGXH",nav__active:"footer_nav__active__3Jkbx"}},57:function(e,t,a){e.exports={ShowBlock:"show-block_ShowBlock__3Zxbt",ShowBlock__text:"show-block_ShowBlock__text__1EcJ9",ShowBlock_reverse:"show-block_ShowBlock_reverse__1tygP",ShowBlock__image:"show-block_ShowBlock__image__1xMsq"}},58:function(e,t,a){e.exports={error:"button_error__147Ak",buttonWrapper:"button_buttonWrapper__2PxEo",button:"button_button__1L7q9",submitButton:"button_submitButton__3_npQ",submitButton_load:"button_submitButton_load__1I_3i","lds-dual-ring":"button_lds-dual-ring__3CszK",buttonTransparentText:"button_buttonTransparentText__34s6t"}},59:function(e,t,a){e.exports={error:"languages_error__3C2qZ",languages:"languages_languages__19aRb",languages__divider:"languages_languages__divider__hspZr",languages__lang:"languages_languages__lang__gfkAQ",languages__lang_first:"languages_languages__lang_first__14Pt8"}},60:function(e,t,a){e.exports={error:"usermenu_error__CiibR",userMenu:"usermenu_userMenu__1Dhwi",userMenu__drop:"usermenu_userMenu__drop__3x0bd",userMenu__dropItem:"usermenu_userMenu__dropItem__1dQNZ"}},61:function(e,t,a){e.exports={error:"header_error__2hP80",header:"header_header__Il2lF",header__logo:"header_header__logo__1LSsQ",header__search:"header_header__search__1vqKX",header__searchIcon:"header_header__searchIcon__3km6T",header_top:"header_header_top__2uPgf"}},66:function(e,t,a){e.exports={lotConstructorView__title:"lotconstructorview_lotConstructorView__title__3RX_G",lotConstructorView__wrap:"lotconstructorview_lotConstructorView__wrap__2e262",lotConstructorView__preview:"lotconstructorview_lotConstructorView__preview__1Qd1C"}},82:function(e,t,a){e.exports={wrapper:"loader_wrapper__2XW9n",loaderWrapper:"loader_loaderWrapper__1J_9e",loader:"loader_loader__1aXcx","lds-dual-ring":"loader_lds-dual-ring__1po6k"}},84:function(e,t,a){e.exports={constructorForm:"lotconstrucorform_constructorForm__1eiSc",constructorForm__img:"lotconstrucorform_constructorForm__img__3ZbTD",constructorForm__save:"lotconstrucorform_constructorForm__save__1o9Ay"}},98:function(e,t,a){e.exports={componentWide:"component-wide_componentWide__-8ugg",componentWide__inner:"component-wide_componentWide__inner__K2ylr"}}},[[135,1,2]]]);
//# sourceMappingURL=main.2fc8dc22.chunk.js.map