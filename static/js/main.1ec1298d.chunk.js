(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{104:function(e,t,a){e.exports={componentWide:"component-wide_componentWide__-8ugg",componentWide__inner:"component-wide_componentWide__inner__K2ylr"}},105:function(e,t,a){e.exports={header:"header_header__Il2lF",header__logo:"header_header__logo__1LSsQ"}},108:function(e,t,a){e.exports={button:"button_button__1L7q9"}},122:function(e,t,a){e.exports={image:"image_image__3b1t_"}},129:function(e,t,a){e.exports={fontIcon:"font-icon_fontIcon__1637L"}},130:function(e,t,a){e.exports={lotsList:"lots-list_lotsList__2SeW9"}},134:function(e){e.exports=JSON.parse('{"welcom-title":"welcome title"}')},135:function(e){e.exports=JSON.parse('{"welcom-title":"\u0412\u0456\u0442\u0430\u044e \u0442\u0443\u0442"}')},136:function(e){e.exports=JSON.parse('{"welcom-title":"Ru"}')},137:function(e){e.exports=JSON.parse('{"nav":[{"link":"Home","to":"/","exact":true},{"link":"About","to":"/about"},{"link":"Privacy","to":"/privacy"}],"images":{"slider":["images/longImg.jpg"]},"goods":[{"src":"images/blue.jpg","title":"Title","text":["Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia.","Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia."],"reverse":false},{"src":"images/brown.jpg","title":"Title","text":["Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia.","Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia."],"reverse":true},{"src":"images/yellow.jpg","title":"Title","text":["Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia.","Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia."],"reverse":false}]}')},139:function(e,t,a){e.exports=a(222)},222:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a(44),i=a.n(c),l=a(35),s=a(49),u=a(7),m=a(45),d=a(36),p=a(104),b=a.n(p),_=function(e){var t=e.children,a=e.backgroundImg,n=e.backgroundColor;return r.a.createElement("div",{className:b.a.componentWide,style:{backgroundImage:"url(".concat(a,")"),backgroundColor:n}},r.a.createElement("div",{className:b.a.componentWide__inner},t))},f=(a(229),a(10)),v=a(25),O=a(12),E=a.n(O),h=a(121),j=a.n(h),g=a(32),S=a.n(g),x={name:"",email:"",text:"",phone:""};function y(e,t){switch(t.type){case"name":return Object(u.a)({},e,{name:t.payload});case"phone":return Object(u.a)({},e,{phone:t.payload});case"email":return Object(u.a)({},e,{email:{value:t.payload,error:!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t.payload)}});case"text":return Object(u.a)({},e,{text:t.payload});case"clear":return Object(u.a)({},x);default:throw new Error}}var k,w=function(){var e=Object(n.useReducer)(y,x),t=Object(v.a)(e,2),a=t[0],o=t[1];return r.a.createElement("form",{className:S.a.sendForm,onSubmit:function(e){e.preventDefault(),j.a.sendForm("iryna","template_Q0cWPtxM",e.target,"user_DNvGDlLmJeKu6MUJMWsRd").then((function(e){console.log(e.text),o({type:"clear"})}),(function(e){console.log(e.text)}))}},r.a.createElement("input",{type:"hidden",name:"contact_number"}),r.a.createElement("div",{className:S.a.sendForm__fieldContainer},r.a.createElement("label",null,"Name"),r.a.createElement("input",{className:S.a.sendForm__field,value:a.name,onChange:function(e){var t=e.target;return o({type:"name",payload:t.value})},type:"text",name:"from_name"})),r.a.createElement("div",{className:S.a.sendForm__fieldContainer},r.a.createElement("label",null,"Email"),r.a.createElement("input",{className:E()(S.a.sendForm__field,Object(f.a)({},S.a.error,a.email.error)),value:a.email.value,onChange:function(e){var t=e.target;return o({type:"email",payload:t.value})},type:"email",name:"user_email"})),r.a.createElement("div",{className:S.a.sendForm__fieldContainer},r.a.createElement("label",null,"Phone number"),r.a.createElement("input",{className:S.a.sendForm__field,value:a.phone,onChange:function(e){var t=e.target;return o({type:"phone",payload:t.value})},name:"phone_number"})),r.a.createElement("div",{className:S.a.sendForm__fieldContainer},r.a.createElement("label",null,"Message"),r.a.createElement("textarea",{className:S.a.sendForm__field,value:a.text,onChange:function(e){var t=e.target;return o({type:"text",payload:t.value})},name:"message_html"})),r.a.createElement("input",{className:S.a.sendForm__send,type:"submit",value:"Send",disabled:!a.phone&&a.email.error}))},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/shop".concat("/");return e.startsWith("http")?e:t.concat(e||"/images/noImg1.jpg")},C=a(122),N=a.n(C),R=function(e){var t=e.src,a=e.alt,n=e.className,o=Object(m.a)(e,["src","alt","className"]);return r.a.createElement("img",Object(u.a)({},o,{src:"string"===typeof t?L(t):t,alt:a,className:E()(N.a.image,n)}))},T=a(66),F=a.n(T),q=function(e){var t=e.src,a=e.reverse,n=e.title,o=e.text;return r.a.createElement("div",{className:E()(F.a.ShowBlock,Object(f.a)({},F.a.ShowBlock_reverse,a))},r.a.createElement("div",{className:F.a.ShowBlock__image},r.a.createElement(R,{src:t})),r.a.createElement("div",{className:F.a.ShowBlock__text},r.a.createElement("h2",{className:F.a.ShowBlock__title},n),o.map((function(e,t){return r.a.createElement("p",{key:t},e)}))))},U=a(14),I=a.n(U),D=a(231),B=a(228),A=a(11),J=(a(92),a(123));function M(e){return W.apply(this,arguments)}function W(){return(W=Object(J.a)(I.a.mark((function e(t){var a,n,r,o,c,i,l;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.params,n=void 0===a?{}:a,r=t.url,o=t.method,"get"!==(c=void 0===o?"get":o).toLowerCase()){e.next=7;break}return e.next=4,fetch(r);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,fetch(r,{method:c||"get",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 9:e.t0=e.sent;case 10:return i=e.t0,e.next=13,i.json();case 13:if((l=e.sent).success){e.next=16;break}return e.abrupt("return",new Error);case 16:return e.abrupt("return",l);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=I.a.mark(ne),G=I.a.mark(re),H=I.a.mark(oe),P=I.a.mark(ce),Q=Object(D.a)("USER/REGISTER_REQUEST"),X=Object(D.a)("USER/REGISTER_SUCCESS"),K=Object(D.a)("USER/LOGIN_REQUEST"),Y=Object(D.a)("USER/LOGIN_SUCCESS"),z=Object(D.a)("USER/SET_USER"),Z=Object(D.a)("USER/LOG_OUT"),$={load:!1,loadRegister:!1,id:"",name:"",secondName:"",login:"",dateOfBirth:"",token:""},ee=Object(B.a)((k={},Object(f.a)(k,K,(function(e){return Object(u.a)({},e,{load:!0})})),Object(f.a)(k,Y,(function(e){return Object(u.a)({},e,{load:!1})})),Object(f.a)(k,z,(function(e,t){var a=t.payload;return Object(u.a)({},e,{},a)})),Object(f.a)(k,Z,(function(){return $})),Object(f.a)(k,Q,(function(e){return Object(u.a)({},e,{loadRegister:!0})})),Object(f.a)(k,X,(function(e){return Object(u.a)({},e,{loadRegister:!1})})),k),$),te=function(e){return e.user},ae=function(e){return e.user.loadRegister};function ne(){var e,t,a,n,r;return I.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,Object(A.e)(K);case 3:return e=o.sent,t=e.payload,a=t.login,n=t.password,o.prev=7,o.next=10,M({params:{login:a,password:n},url:"https://shop-app-brtshk.herokuapp.com/api/authentication/auth",method:"post"});case 10:return r=o.sent,o.next=13,Object(A.c)(z(Object(u.a)({token:r.token},r.data)));case 13:return o.next=15,Object(A.c)(Y());case 15:localStorage.setItem("user",JSON.stringify({user:Object(u.a)({token:r.token},r.data)})),o.next=23;break;case 18:return o.prev=18,o.t0=o.catch(7),console.error("authentication/auth",o.t0),o.next=23,Object(A.c)(Y());case 23:o.next=0;break;case 25:case"end":return o.stop()}}),V,null,[[7,18]])}function re(){var e,t,a;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(A.e)(Q);case 3:return e=n.sent,t=e.payload,n.prev=5,n.next=8,M({params:Object(u.a)({},t),url:"https://shop-app-brtshk.herokuapp.com/api/authentication/register",method:"post"});case 8:return a=n.sent,n.next=11,Object(A.c)(X());case 11:console.log(a),n.next=19;break;case 14:return n.prev=14,n.t0=n.catch(5),console.error("authentication/register",n.t0),n.next=19,Object(A.c)(X());case 19:n.next=0;break;case 21:case"end":return n.stop()}}),G,null,[[5,14]])}function oe(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(A.e)(Z);case 3:localStorage.removeItem("user"),e.next=0;break;case 6:case"end":return e.stop()}}),H)}function ce(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.a)([ne(),oe(),re()]);case 2:case"end":return e.stop()}}),P)}var ie=a(52),le=a(227),se=a(90),ue=a(105),me=a.n(ue),de=function(e){var t=e.t,a=e.user,n=e.logOut,o=e.history,c=ie.a.languages;return r.a.createElement(_,{backgroundImg:"https://bizcom.kz/wp-content/uploads/2014/12/footer-background-011.jpg"},r.a.createElement("div",{className:me.a.header},r.a.createElement("div",null,r.a.createElement(l.b,{className:me.a.header__logo,to:"/"},r.a.createElement("h1",null,t("welcom-title")))),r.a.createElement("div",{lg:"2"},r.a.createElement(le.a,{title:ie.a.language,variant:"info"},c.map((function(e){return r.a.createElement(se.a.Item,{key:e,onClick:function(){return ie.a.changeLanguage(e)},eventKey:e,active:ie.a.language===e},e)}))),a.name?r.a.createElement(le.a,{title:a.name,variant:"info"},r.a.createElement(se.a.Item,{onClick:function(){return o&&o.push("/user/profile")}},"Profile"),r.a.createElement(se.a.Item,{onClick:function(){return o&&o.push("/user/lots")}},"Lots"),r.a.createElement(se.a.Item,{onClick:n},"Log out")):r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{to:"/authentication/login"},"Login")," ","/"," ",r.a.createElement(l.b,{to:"/authentication/registration"},"Registration")))))};var pe=Object(s.f)(Object(d.b)()(Object(o.b)((function(e){return{user:te(e)}}),{logOut:Z})((function(e){return r.a.createElement(de,e)})))),be=a(230),_e=a(128),fe=a(129),ve=a.n(fe),Oe=a(89),Ee={telegram:Oe.c,instagram:Oe.b,facebook:Oe.a},he=function(e){var t=e.iconKey,a=e.link,n=e.className;return r.a.createElement("a",{className:E()(ve.a.fontIcon,n),href:a||"#",target:a?"_blank":"_self"},r.a.createElement(_e.a,{icon:Ee[t]}))},je=a(58),ge=a.n(je),Se=Object(d.b)()((function(e){var t=e.t,a=Object(n.useContext)(Oa).nav;return r.a.createElement(_,{backgroundColor:"black"},r.a.createElement("div",{className:ge.a.footer},r.a.createElement("div",null,a.map((function(e){var a=e.link,n=e.to,o=e.exact;return r.a.createElement(l.c,{exact:o,key:a+n,className:ge.a.nav,activeClassName:ge.a.nav__active,to:n},t(a))}))),r.a.createElement(be.a,{horizontal:!0},r.a.createElement("div",{className:ge.a.footer__icon},r.a.createElement(he,{iconKey:"telegram"})),r.a.createElement("div",{className:ge.a.footer__icon},r.a.createElement(he,{iconKey:"instagram"})),r.a.createElement("div",{className:ge.a.footer__icon},r.a.createElement(he,{iconKey:"facebook"})))))})),xe=Object(d.b)()((function(e){var t=e.children;return r.a.createElement("div",null,t)}));xe.Header=pe,xe.Footer=Se;var ye,ke=xe,we=a(16),Le=a(17),Ce=a(21),Ne=a(22),Re=a(23),Te=I.a.mark(Me),Fe=I.a.mark(We),qe=Object(D.a)("LOTS/LOTS_REQUEST"),Ue=Object(D.a)("LOTS/LOTS_SUCCESS"),Ie=Object(D.a)("LOTS/SET_LOTS"),De=Object(D.a)("LOTS/RESET"),Be={load:!1,lots:[]},Ae=Object(B.a)((ye={},Object(f.a)(ye,qe,(function(e){return Object(u.a)({},e,{load:!0})})),Object(f.a)(ye,Ue,(function(e){return Object(u.a)({},e,{load:!1})})),Object(f.a)(ye,Ie,(function(e,t){var a=t.payload;return Object(u.a)({},e,{lots:a})})),Object(f.a)(ye,De,(function(){return Be})),ye),Be),Je=function(e){return e.lots};function Me(){var e;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(A.e)(qe);case 3:return t.prev=3,t.next=6,M({url:"https://shop-app-brtshk.herokuapp.com/api/products"});case 6:return e=t.sent,console.log(e),t.next=10,Object(A.c)(Ie(e.data));case 10:return t.next=12,Object(A.c)(Ue());case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(3),console.error("get products",t.t0),t.next=19,Object(A.c)(Ue());case 19:t.next=0;break;case 21:case"end":return t.stop()}}),Te,null,[[3,14]])}function We(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.a)([Me()]);case 2:case"end":return e.stop()}}),Fe)}var Ve=a(29),Ge=a.n(Ve),He=a(108),Pe=a.n(He),Qe=function(e){var t=e.handler,a=e.className,n=e.name,o=e.load,c=e.disabled,i=e.children;return r.a.createElement("button",{onClick:t,disabled:c,className:E()(Pe.a.button,a,Object(f.a)({},Pe.a.load,o))},n||i)},Xe=function(e){var t=e._id,a=e.productName,n=e.description,o=e.urlImage,c=e.quantity,i=(e.added,e.characteristic,e.price),l=(e.asset,e.user_id,e.edit),s=e.history;return r.a.createElement("div",{className:Ge.a.lot},r.a.createElement("div",{className:Ge.a.lot__container},r.a.createElement("div",{className:Ge.a.lot__image},r.a.createElement(R,{src:o,style:{height:"200px"}}),l&&r.a.createElement(Qe,{className:Ge.a.lot__edit,handler:function(){return s&&s.push("/lots-constructor/".concat(t))}},"Edit")),r.a.createElement("div",{className:Ge.a.lot__textContainer},r.a.createElement("div",{className:Ge.a.lot__title},a),r.a.createElement("div",null,r.a.createElement("div",{className:Ge.a.lot__buyDescription},r.a.createElement("div",{className:Ge.a.lot__price},i||"0"),r.a.createElement("div",null,r.a.createElement("span",{className:Ge.a.lot__fieldTitle},"quantity:")," ",c||"0")),r.a.createElement("div",{className:Ge.a.lot__description},r.a.createElement("div",null,"Description:"),r.a.createElement("div",null,n))))))};Xe.Add=function(e){var t=e.hendler;return r.a.createElement("div",{className:Ge.a.lot},r.a.createElement("div",{className:Ge.a.lot__plus,onClick:t}))};var Ke=Xe,Ye=a(130),ze=a.n(Ye),Ze=function(e){var t=e.lots,a=e.children,n=e.edit,o=Object(m.a)(e,["lots","children","edit"]);return r.a.createElement(_,null,r.a.createElement("div",{className:ze.a.lotsList},a,t.map((function(e){return r.a.createElement(Ke,Object.assign({key:e._id},e,o,{edit:n}))}))))};Ze.AddLot=function(e){var t=e.hendler;return r.a.createElement(Ke.Add,{hendler:t})};var $e,et=Ze,tt=function(e){function t(){return Object(we.a)(this,t),Object(Ce.a)(this,Object(Ne.a)(t).apply(this,arguments))}return Object(Re.a)(t,e),Object(Le.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.lotsRequest)()}},{key:"render",value:function(){var e=this.props.lots.lots;return console.log(this.props),r.a.createElement("div",null,r.a.createElement(et,{lots:e}))}}]),t}(n.Component),at={lotsRequest:qe},nt=Object(o.b)((function(e){return{lots:Je(e)}}),at)(tt),rt=Object(d.b)()(Object(o.b)((function(e){return Object(u.a)({},e)}))((function(e){e.t,Object(m.a)(e,["t"]);var t=Object(n.useContext)(Oa);return r.a.createElement(ke,null,r.a.createElement(ke.Header,null),r.a.createElement("div",null,r.a.createElement(R,{src:t.images.slider[0]}),r.a.createElement(_,null,r.a.createElement(nt,null)),r.a.createElement(_,{backgroundColor:"#ccc"},r.a.createElement(w,null)),t.goods.map((function(e,t){return r.a.createElement(_,{key:t+e.src},r.a.createElement(q,e))}))),r.a.createElement(ke.Footer,null))}))),ot=function(e){var t=e.onSubmit,a=e.onSetField,n=e.login,o=e.password,c=e.user;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement("input",{name:"login",type:"text",value:n,onChange:a})),r.a.createElement("div",null,r.a.createElement("input",{name:"password",value:o,type:"password",onChange:a})),r.a.createElement("div",null,r.a.createElement("button",null,c.load?"load...":"Login"))))},ct=function(e){function t(){var e;return Object(we.a)(this,t),(e=Object(Ce.a)(this,Object(Ne.a)(t).call(this))).resetForm=function(){return e.setState({login:"",password:""})},e.onSetField=function(t){var a=t.target;return e.setState(Object(f.a)({},a.name,a.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.login,r=a.password;(0,e.props.loginRequest)({login:n,password:r})},e.state={login:"mYyyyyyyy",password:"yyyyyyyyy"},e}return Object(Re.a)(t,e),Object(Le.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.history,n=this.state,o=n.login,c=n.password;return t.name&&a.push("/"),r.a.createElement(ot,{onSubmit:this.onSubmit,onSetField:this.onSetField,login:o,password:c,user:t})}}]),t}(n.Component),it={loginRequest:K},lt=Object(o.b)((function(e){return{user:te(e)}}),it)(ct),st=a(131),ut=a.n(st),mt=a(132),dt=a.n(mt),pt=(a(164),function(e){var t=e.onSubmit,a=e.onSetField,n=e.fields,o=e.load;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:t},Object.entries(n).map((function(e){var t=Object(v.a)(e,2),n=t[0],o=t[1].value;return r.a.createElement("div",{key:n},r.a.createElement("label",null,n),"dateOfBirth"===n?r.a.createElement(dt.a,{dateFormat:"dd.MM.yyyy",selected:o,onChange:function(e){return a({target:{name:"dateOfBirth",value:e}})}}):r.a.createElement("input",{name:n,type:"text",value:o,onChange:a}))})),r.a.createElement("div",null,r.a.createElement("button",null,o?"load...":"Register"))))}),bt=function(e){function t(){var e;return Object(we.a)(this,t),(e=Object(Ce.a)(this,Object(Ne.a)(t).call(this))).resetForm=function(){return e.setState({login:"",password:""})},e.onSetField=function(t){var a=t.target,n=e.state.fields;e.setState({fields:Object(u.a)({},n,Object(f.a)({},a.name,Object(u.a)({},n[a.name],{value:a.value})))})},e.onSubmit=function(t){t.preventDefault();var a=e.state.fields;(0,e.props.registerRequest)(Object.entries(a).reduce((function(e,t){var a=Object(v.a)(t,2),n=a[0],r=a[1].value;return Object(u.a)({},e,Object(f.a)({},n,"dateOfBirth"===n?ut()(r).format("YYYY_MM_DD"):r))}),{}))},e.state={fields:{name:{value:""},secondName:{value:""},login:{value:""},password:{value:""},dateOfBirth:{value:""},email:{value:""}}},e}return Object(Re.a)(t,e),Object(Le.a)(t,[{key:"render",value:function(){var e=this.props,t=e.load,a=(e.history,this.state.fields);return r.a.createElement(pt,{fields:a,onSubmit:this.onSubmit,onSetField:this.onSetField,load:t})}}]),t}(n.Component),_t={registerRequest:Q},ft=Object(o.b)((function(e){return{load:ae(e)}}),_t)(bt),vt=function(e){return r.a.createElement(ke,null,r.a.createElement(ke.Header,null),e.location.pathname.includes("login")?r.a.createElement(lt,e):r.a.createElement(ft,e))},Ot=function(e){function t(){var e;return Object(we.a)(this,t),(e=Object(Ce.a)(this,Object(Ne.a)(t).call(this))).state={},e}return Object(Re.a)(t,e),Object(Le.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user;e.history;return r.a.createElement("div",null,Object.entries(t).map((function(e){var t=Object(v.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{key:a},a,":",n)})))}}]),t}(n.Component),Et=Object(o.b)((function(e){return{user:te(e)}}),{})(Ot),ht=function(e){return r.a.createElement(ke,null,r.a.createElement(ke.Header,null),r.a.createElement(Et,e),r.a.createElement(ke.Footer,null))},jt=a(86),gt=I.a.mark(Wt),St=I.a.mark(Vt),xt=I.a.mark(Ht),yt=I.a.mark(Qt),kt=I.a.mark(Xt),wt=Object(D.a)("USER_LOTS/USER_LOTS_REQUEST"),Lt=Object(D.a)("USER_LOTS/USER_LOTS_SUCCESS"),Ct=Object(D.a)("USER_LOTS/SET_USER_LOTS"),Nt=Object(D.a)("USER_LOTS/CREATE_LOT_REQUEST"),Rt=Object(D.a)("USER_LOTS/SET_CREATE_LOT"),Tt=Object(D.a)("USER_LOTS/FILL_IN_CREATE_LOT"),Ft=Object(D.a)("USER_LOTS/SET_CREATE_LOT_VALUE"),qt=Object(D.a)("USER_LOTS/CREATE_LOT_SUCCESS"),Ut=Object(D.a)("USER_LOTS/RESET"),It=Object(D.a)("USER_LOTS/RESET_CREATE_LOT"),Dt={productName:{value:"",isValid:!0,error:"",validationRules:{type:"text",minLength:5,isRequired:!0},fieldType:"label"},description:{value:""},urlImage:{value:""},quantity:{value:""},added:{value:""},characteristic:{value:""},asset:{value:""},price:{value:""}},Bt={load:!1,userLots:[],createLot:Dt},At=Object(B.a)(($e={},Object(f.a)($e,wt,(function(e){return Object(u.a)({},e,{load:!0})})),Object(f.a)($e,Lt,(function(e){return Object(u.a)({},e,{load:!1})})),Object(f.a)($e,Ct,(function(e,t){var a=t.payload;return Object(u.a)({},e,{userLots:a})})),Object(f.a)($e,Ut,(function(){return Bt})),Object(f.a)($e,Nt,(function(e){return Object(u.a)({},e,{load:!0})})),Object(f.a)($e,qt,(function(e){return Object(u.a)({},e,{load:!1})})),Object(f.a)($e,Rt,(function(e){return Object(u.a)({},e)})),Object(f.a)($e,Tt,(function(e,t){var a=t.payload;return Object(u.a)({},e,{createLot:a})})),Object(f.a)($e,Ft,(function(e,t){var a=t.payload;return Object(u.a)({},e,{createLot:Object(u.a)({},e.createLot,Object(f.a)({},a.key,Object(u.a)({},e.createLot[a.key],{value:a.value},Pt({validationRules:e.createLot[a.key].validationRules,value:a.value}))))})})),Object(f.a)($e,It,(function(e){return Object(u.a)({},e,{createLot:Dt})})),$e),Bt),Jt=function(e){return e.userLots},Mt=function(e){return e.userLots.createLot};function Wt(){var e,t;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(A.d)(te);case 2:return e=a.sent,a.prev=3,a.next=6,M({params:{token:e.token},url:"https://shop-app-brtshk.herokuapp.com/api/products/userid/".concat(e.id,"?token=").concat(e.token),method:"get"});case 6:return t=a.sent,console.log(t),a.next=10,Object(A.c)(Ct(t.data));case 10:return a.next=12,Object(A.c)(Lt());case 12:a.next=19;break;case 14:return a.prev=14,a.t0=a.catch(3),console.error("get user lots",a.t0),a.next=19,Object(A.c)(Lt());case 19:case"end":return a.stop()}}),gt,null,[[3,14]])}function Vt(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(A.e)(wt);case 3:return e.next=5,Object(A.b)(Wt);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),St)}function Gt(e){return Object.entries(e).reduce((function(e,t){var a=Object(v.a)(t,2),n=a[0],r=a[1].value;return Object(u.a)({},e,Object(f.a)({},n,r))}),{})}function Ht(){var e,t,a,n,r,o;return I.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=3,Object(A.e)(Nt);case 3:return e=c.sent,t=e.payload,c.next=7,Object(A.d)(te);case 7:return a=c.sent,c.next=10,Object(A.d)(Jt);case 10:return n=c.sent,c.next=13,Object(A.d)(Mt);case 13:return r=c.sent,c.prev=14,c.next=17,M({params:Object(u.a)({},Gt(r),{user_id:a.id,token:a.token}),url:t?"https://shop-app-brtshk.herokuapp.com/api/products/".concat(t):"https://shop-app-brtshk.herokuapp.com/api/products",method:t?"put":"post"});case 17:if(!(o=c.sent)){c.next=22;break}if(t){c.next=22;break}return c.next=22,Object(A.c)(Ct([].concat(Object(jt.a)(n.userLots),[Object(u.a)({},o.data)])));case 22:return c.next=24,Object(A.c)(qt());case 24:return c.next=26,Object(A.c)(It());case 26:c.next=33;break;case 28:return c.prev=28,c.t0=c.catch(14),console.error("create lot",c.t0),c.next=33,Object(A.c)(qt());case 33:c.next=0;break;case 35:case"end":return c.stop()}}),xt,null,[[14,28]])}function Pt(e){var t=e.validationRules,a=e.value;if(t){if(t.isRequired&&!a.length)return{isValid:!1,error:"The field is required."};if(t.minLength&&a.length<t.minLength)return{isValid:!1,error:"The field must be at least ".concat(t.minLength," characters long.")}}return{isValid:!0,error:""}}function Qt(){var e;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=I.a.mark((function e(){var t,a,n,r,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.e)(Rt);case 2:return t=e.sent,a=t.payload,e.next=6,Object(A.d)(Mt);case 6:return n=e.sent,e.next=9,Object(A.d)(Jt);case 9:if((r=e.sent).length){e.next=16;break}return e.next=13,Object(A.b)(Wt);case 13:return e.next=15,Object(A.d)(Jt);case 15:r=e.sent;case 16:if(!(o=r.userLots.filter((function(e){return e._id===a}))[0])){e.next=20;break}return e.next=20,Object(A.c)(Tt({productName:Object(u.a)({},n.productName,{value:o.productName}),description:Object(u.a)({},n.description,{value:o.description}),urlImage:Object(u.a)({},n.urlImage,{value:o.urlImage}),quantity:Object(u.a)({},n.quantity,{value:o.quantity}),added:Object(u.a)({},n.added,{value:o.added}),characteristic:Object(u.a)({},n.characteristic,{value:o.characteristic}),asset:Object(u.a)({},n.asset,{value:o.asset}),price:Object(u.a)({},n.price,{value:o.price})}));case 20:case"end":return e.stop()}}),e)}));case 1:return t.delegateYield(e(),"t0",3);case 3:t.next=1;break;case 5:case"end":return t.stop()}}),yt)}function Xt(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.a)([Vt(),Ht(),Qt()]);case 2:case"end":return e.stop()}}),kt)}var Kt=function(e){function t(){var e,a;Object(we.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Ce.a)(this,(e=Object(Ne.a)(t)).call.apply(e,[this].concat(r)))).callLotConstructor=function(){var e=a.props.history;console.log(a.props),e&&e.push("/lots-constructor")},a}return Object(Re.a)(t,e),Object(Le.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.userLotsRequest)()}},{key:"render",value:function(){var e=this.props,t=e.userLots.userLots,a=Object(m.a)(e,["userLots"]);return r.a.createElement("div",null,r.a.createElement(et,Object.assign({lots:t,edit:!0},a),r.a.createElement(et.AddLot,{hendler:this.callLotConstructor})))}}]),t}(n.Component),Yt={userLotsRequest:wt},zt=Object(o.b)((function(e){return{userLots:Jt(e)}}),Yt)(Kt),Zt=function(e){return r.a.createElement(ke,null,r.a.createElement(ke.Header,null),r.a.createElement(zt,e),r.a.createElement(ke.Footer,null))},$t=function(e){return r.a.createElement(ke,null,r.a.createElement(ke.Header,null),r.a.createElement(nt,e),r.a.createElement(ke.Footer,null))},ea=function(e){var t=e.onSubmit,a=e.onSetField,n=e.fields,o=e.load;return r.a.createElement("form",{style:{marginRight:"40px"},onSubmit:t},Object.entries(n).map((function(e){var t=Object(v.a)(e,2),n=t[0],o=t[1],c=o.value,i=o.error;return r.a.createElement("div",{key:n},r.a.createElement("label",{style:{width:"150px"}},n),r.a.createElement("input",{name:n,type:"text",value:c,onChange:a}),i&&r.a.createElement("div",{style:{color:"red",fontSize:"9px",textAlign:"right"}},i),"urlImage"===n&&r.a.createElement("div",null,r.a.createElement(R,{style:{width:"200px"},src:c})))})),r.a.createElement("div",null,r.a.createElement("button",null,o?"load...":"Register")))},ta=function(e){function t(){var e;return Object(we.a)(this,t),(e=Object(Ce.a)(this,Object(Ne.a)(t).call(this))).onSetField=function(t){var a=t.target;(0,e.props.setCreateLotValue)({key:a.name,value:a.value})},e.onSubmit=function(t){t.preventDefault();var a=e.props,n=a.match.params;(0,a.createLotRequest)(n.id)},e}return Object(Re.a)(t,e),Object(Le.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params,a=e.setCreateLot;t.id&&a(t.id)}},{key:"componentWillUnmount",value:function(){(0,this.props.resetCreateLot)()}},{key:"render",value:function(){var e=this.props.createLot;return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"40px 0"}},r.a.createElement(ea,{onSubmit:this.onSubmit,onSetField:this.onSetField,fields:e}),r.a.createElement(Ke,Gt(e)))}}]),t}(n.Component),aa={createLotRequest:Nt,setCreateLot:Rt,setCreateLotValue:Ft,resetCreateLot:It},na=Object(o.b)((function(e){return{userLots:Jt(e),createLot:Mt(e)}}),aa)(Object(s.f)(ta)),ra=function(e){return r.a.createElement(ke,null,r.a.createElement(ke.Header,null),r.a.createElement(na,null),r.a.createElement(ke.Footer,null))};var oa=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:rt}),r.a.createElement(s.a,{path:"/lots",component:$t}),r.a.createElement(s.a,{path:"/authentication/login",component:vt}),r.a.createElement(s.a,{path:"/authentication/registration",component:vt}),r.a.createElement(s.a,{path:"/user/profile",component:ht}),r.a.createElement(s.a,{path:"/user/lots",component:Zt}),r.a.createElement(s.a,{path:"/lots-constructor/:id",component:ra}),r.a.createElement(s.a,{path:"/lots-constructor",component:ra}),r.a.createElement(s.a,{path:"/about"},r.a.createElement("div",null,"456")),r.a.createElement(s.a,null,r.a.createElement("div",null,"789")))," "))},ca={en:{translation:a(134)},ua:{translation:a(135)},ru:{translation:a(136)}};ie.a.use(d.a).init({resources:ca,lng:"en",fallbackLng:["en","ua","ru"],keySeparator:!1,interpolation:{escapeValue:!1}});ie.a,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(221);var ia=a(137),la=a(37),sa=a(138),ua={user:ee,userLots:At,lots:Ae},ma=I.a.mark(da);function da(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.a)([ce(),Xt(),We()]);case 2:case"end":return e.stop()}}),ma)}var pa={};try{pa=JSON.parse(localStorage.getItem("user"))||{}}catch(Ea){console.error("set initial state error: ",Ea)}var ba="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):la.d,_a=Object(sa.a)(),fa=Object(la.e)(Object(la.c)(ua),pa,ba(Object(la.a)(_a,(function(e){return function(e){return function(t){e(Object(u.a)({},t))}}}))));_a.run(da);var va=fa;a.d(t,"DataContext",(function(){return Oa}));var Oa=r.a.createContext({});i.a.render(r.a.createElement(o.a,{store:va},r.a.createElement(Oa.Provider,{value:ia},r.a.createElement(oa,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},29:function(e,t,a){e.exports={lot:"lot_lot__3N6PX",lot__textContainer:"lot_lot__textContainer__2xbDI",lot__title:"lot_lot__title__2aA2n",lot__description:"lot_lot__description__2qF7t",lot__container:"lot_lot__container__2EoQx",lot__image:"lot_lot__image__FjuSV",lot__buyDescription:"lot_lot__buyDescription__3avXz",lot__fieldTitle:"lot_lot__fieldTitle__2bFCG",lot__price:"lot_lot__price__10j38",lot__edit:"lot_lot__edit__21lgJ",lot__plus:"lot_lot__plus__j8xfy"}},32:function(e,t,a){e.exports={sendForm:"send-form_sendForm__3XRrG",sendForm__field:"send-form_sendForm__field__upvfZ",sendForm__fieldContainer:"send-form_sendForm__fieldContainer__2IJEq",sendForm__send:"send-form_sendForm__send__2A-nG",error:"send-form_error__24ync"}},58:function(e,t,a){e.exports={footer:"footer_footer__ANhX2",footer__icon:"footer_footer__icon__3ZWoM",nav:"footer_nav__3QGXH",nav__active:"footer_nav__active__3Jkbx"}},66:function(e,t,a){e.exports={ShowBlock:"show-block_ShowBlock__3Zxbt",ShowBlock__text:"show-block_ShowBlock__text__1EcJ9",ShowBlock_reverse:"show-block_ShowBlock_reverse__1tygP",ShowBlock__image:"show-block_ShowBlock__image__1xMsq"}}},[[139,1,2]]]);
//# sourceMappingURL=main.1ec1298d.chunk.js.map