(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{104:function(e,t,a){e.exports={componentWide:"component-wide_componentWide__-8ugg",componentWide__inner:"component-wide_componentWide__inner__K2ylr"}},105:function(e,t,a){e.exports={header:"header_header__Il2lF",header__logo:"header_header__logo__1LSsQ"}},108:function(e,t,a){e.exports={button:"button_button__1L7q9"}},122:function(e,t,a){e.exports={image:"image_image__3b1t_"}},129:function(e,t,a){e.exports={fontIcon:"font-icon_fontIcon__1637L"}},130:function(e,t,a){e.exports={lotsList:"lots-list_lotsList__2SeW9"}},134:function(e){e.exports=JSON.parse('{"welcom-title":"welcome title"}')},135:function(e){e.exports=JSON.parse('{"welcom-title":"\u0412\u0456\u0442\u0430\u044e \u0442\u0443\u0442"}')},136:function(e){e.exports=JSON.parse('{"welcom-title":"Ru"}')},137:function(e){e.exports=JSON.parse('{"nav":[{"link":"Home","to":"/","exact":true},{"link":"About","to":"/about"},{"link":"Privacy","to":"/privacy"}],"images":{"slider":["images/longImg.jpg"]},"goods":[{"src":"images/blue.jpg","title":"Title","text":["Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia.","Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia."],"reverse":false},{"src":"images/brown.jpg","title":"Title","text":["Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia.","Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia."],"reverse":true},{"src":"images/yellow.jpg","title":"Title","text":["Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia.","Lorem ipsum dolor sit amet consectetur, adipisicing elit. Corporis, libero ipsa eos praesentium quos quis ad veritatis mollitia ea impedit id tempore eius repudiandae odio beatae? Sit animi laboriosam quia."],"reverse":false}]}')},139:function(e,t,a){e.exports=a(222)},222:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a(44),l=a.n(c),i=a(35),s=a(49),u=a(9),m=a(45),d=a(36),p=a(104),b=a.n(p),_=function(e){var t=e.children,a=e.backgroundImg,n=e.backgroundColor;return r.a.createElement("div",{className:b.a.componentWide,style:{backgroundImage:"url(".concat(a,")"),backgroundColor:n}},r.a.createElement("div",{className:b.a.componentWide__inner},t))},f=(a(229),a(10)),v=a(24),E=a(11),O=a.n(E),h=a(121),j=a.n(h),g=a(32),S=a.n(g),x={name:"",email:"",text:"",phone:""};function y(e,t){switch(t.type){case"name":return Object(u.a)({},e,{name:t.payload});case"phone":return Object(u.a)({},e,{phone:t.payload});case"email":return Object(u.a)({},e,{email:{value:t.payload,error:!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t.payload)}});case"text":return Object(u.a)({},e,{text:t.payload});case"clear":return Object(u.a)({},x);default:throw new Error}}var k,w=function(){var e=Object(n.useReducer)(y,x),t=Object(v.a)(e,2),a=t[0],o=t[1];return r.a.createElement("form",{className:S.a.sendForm,onSubmit:function(e){e.preventDefault(),j.a.sendForm("iryna","template_Q0cWPtxM",e.target,"user_DNvGDlLmJeKu6MUJMWsRd").then((function(e){console.log(e.text),o({type:"clear"})}),(function(e){console.log(e.text)}))}},r.a.createElement("input",{type:"hidden",name:"contact_number"}),r.a.createElement("div",{className:S.a.sendForm__fieldContainer},r.a.createElement("label",null,"Name"),r.a.createElement("input",{className:S.a.sendForm__field,value:a.name,onChange:function(e){var t=e.target;return o({type:"name",payload:t.value})},type:"text",name:"from_name"})),r.a.createElement("div",{className:S.a.sendForm__fieldContainer},r.a.createElement("label",null,"Email"),r.a.createElement("input",{className:O()(S.a.sendForm__field,Object(f.a)({},S.a.error,a.email.error)),value:a.email.value,onChange:function(e){var t=e.target;return o({type:"email",payload:t.value})},type:"email",name:"user_email"})),r.a.createElement("div",{className:S.a.sendForm__fieldContainer},r.a.createElement("label",null,"Phone number"),r.a.createElement("input",{className:S.a.sendForm__field,value:a.phone,onChange:function(e){var t=e.target;return o({type:"phone",payload:t.value})},name:"phone_number"})),r.a.createElement("div",{className:S.a.sendForm__fieldContainer},r.a.createElement("label",null,"Message"),r.a.createElement("textarea",{className:S.a.sendForm__field,value:a.text,onChange:function(e){var t=e.target;return o({type:"text",payload:t.value})},name:"message_html"})),r.a.createElement("input",{className:S.a.sendForm__send,type:"submit",value:"Send",disabled:!a.phone&&a.email.error}))},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/shop".concat("/");return e.startsWith("http")?e:t.concat(e)},C=a(122),L=a.n(C),R=function(e){var t=e.src,a=e.alt,n=e.className,o=Object(m.a)(e,["src","alt","className"]);return r.a.createElement("img",Object(u.a)({},o,{src:"string"===typeof t?N(t):t,alt:a,className:O()(L.a.image,n)}))},F=a(66),T=a.n(F),q=function(e){var t=e.src,a=e.reverse,n=e.title,o=e.text;return r.a.createElement("div",{className:O()(T.a.ShowBlock,Object(f.a)({},T.a.ShowBlock_reverse,a))},r.a.createElement("div",{className:T.a.ShowBlock__image},r.a.createElement(R,{src:t})),r.a.createElement("div",{className:T.a.ShowBlock__text},r.a.createElement("h2",{className:T.a.ShowBlock__title},n),o.map((function(e,t){return r.a.createElement("p",{key:t},e)}))))},U=a(15),I=a.n(U),D=a(231),B=a(228),J=a(14),M=(a(92),a(123));function W(e){return A.apply(this,arguments)}function A(){return(A=Object(M.a)(I.a.mark((function e(t){var a,n,r,o,c,l,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.params,n=void 0===a?{}:a,r=t.url,o=t.method,c=void 0===o?"get":o,console.log({params:n,url:r,method:c}),"get"!==c.toLowerCase()){e.next=8;break}return e.next=5,fetch(r);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,fetch(r,{method:c||"get",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 10:e.t0=e.sent;case 11:return l=e.t0,e.next=14,l.json();case 14:if((i=e.sent).success){e.next=17;break}return e.abrupt("return",new Error);case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=I.a.mark(ne),H=I.a.mark(re),P=I.a.mark(oe),Q=I.a.mark(ce),X=Object(D.a)("USER/REGISTER_REQUEST"),K=Object(D.a)("USER/REGISTER_SUCCESS"),Y=Object(D.a)("USER/LOGIN_REQUEST"),z=Object(D.a)("USER/LOGIN_SUCCESS"),V=Object(D.a)("USER/SET_USER"),Z=Object(D.a)("USER/LOG_OUT"),$={load:!1,loadRegister:!1,id:"",name:"",secondName:"",login:"",dateOfBirth:"",token:""},ee=Object(B.a)((k={},Object(f.a)(k,Y,(function(e){return Object(u.a)({},e,{load:!0})})),Object(f.a)(k,z,(function(e){return Object(u.a)({},e,{load:!1})})),Object(f.a)(k,V,(function(e,t){var a=t.payload;return Object(u.a)({},e,{},a)})),Object(f.a)(k,Z,(function(){return $})),Object(f.a)(k,X,(function(e){return Object(u.a)({},e,{loadRegister:!0})})),Object(f.a)(k,K,(function(e){return Object(u.a)({},e,{loadRegister:!1})})),k),$),te=function(e){return e.user},ae=function(e){return e.user.loadRegister};function ne(){var e,t,a,n,r;return I.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,Object(J.d)(Y);case 3:return e=o.sent,t=e.payload,a=t.login,n=t.password,o.prev=7,o.next=10,W({params:{login:a,password:n},url:"https://shop-app-brtshk.herokuapp.com/api/authentication/auth",method:"post"});case 10:return r=o.sent,o.next=13,Object(J.b)(V(Object(u.a)({token:r.token},r.data)));case 13:return o.next=15,Object(J.b)(z());case 15:localStorage.setItem("user",JSON.stringify({user:Object(u.a)({token:r.token},r.data)})),o.next=23;break;case 18:return o.prev=18,o.t0=o.catch(7),console.error("authentication/auth",o.t0),o.next=23,Object(J.b)(z());case 23:o.next=0;break;case 25:case"end":return o.stop()}}),G,null,[[7,18]])}function re(){var e,t,a;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(J.d)(X);case 3:return e=n.sent,t=e.payload,n.prev=5,n.next=8,W({params:Object(u.a)({},t),url:"https://shop-app-brtshk.herokuapp.com/api/authentication/register",method:"post"});case 8:return a=n.sent,n.next=11,Object(J.b)(K());case 11:console.log(a),n.next=19;break;case 14:return n.prev=14,n.t0=n.catch(5),console.error("authentication/register",n.t0),n.next=19,Object(J.b)(K());case 19:n.next=0;break;case 21:case"end":return n.stop()}}),H,null,[[5,14]])}function oe(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(J.d)(Z);case 3:localStorage.removeItem("user"),e.next=0;break;case 6:case"end":return e.stop()}}),P)}function ce(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.a)([ne(),oe(),re()]);case 2:case"end":return e.stop()}}),Q)}var le=a(52),ie=a(227),se=a(90),ue=a(105),me=a.n(ue),de=function(e){var t=e.t,a=e.user,n=e.logOut,o=e.history,c=le.a.languages;return r.a.createElement(_,{backgroundImg:"https://bizcom.kz/wp-content/uploads/2014/12/footer-background-011.jpg"},r.a.createElement("div",{className:me.a.header},r.a.createElement("div",null,r.a.createElement(i.b,{className:me.a.header__logo,to:"/"},r.a.createElement("h1",null,t("welcom-title")))),r.a.createElement("div",{lg:"2"},r.a.createElement(ie.a,{title:le.a.language,variant:"info"},c.map((function(e){return r.a.createElement(se.a.Item,{key:e,onClick:function(){return le.a.changeLanguage(e)},eventKey:e,active:le.a.language===e},e)}))),a.name?r.a.createElement(ie.a,{title:a.name,variant:"info"},r.a.createElement(se.a.Item,{onClick:function(){return o&&o.push("/user/profile")}},"Profile"),r.a.createElement(se.a.Item,{onClick:function(){return o&&o.push("/user/lots")}},"Lots"),r.a.createElement(se.a.Item,{onClick:n},"Log out")):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{to:"/authentication/login"},"Login")," ","/"," ",r.a.createElement(i.b,{to:"/authentication/registration"},"Registration")))))};var pe=Object(s.f)(Object(d.b)()(Object(o.b)((function(e){return{user:te(e)}}),{logOut:Z})((function(e){return r.a.createElement(de,e)})))),be=a(230),_e=a(128),fe=a(129),ve=a.n(fe),Ee=a(89),Oe={telegram:Ee.c,instagram:Ee.b,facebook:Ee.a},he=function(e){var t=e.iconKey,a=e.link,n=e.className;return r.a.createElement("a",{className:O()(ve.a.fontIcon,n),href:a||"#",target:a?"_blank":"_self"},r.a.createElement(_e.a,{icon:Oe[t]}))},je=a(58),ge=a.n(je),Se=Object(d.b)()((function(e){var t=e.t,a=Object(n.useContext)(la).nav;return r.a.createElement(_,{backgroundColor:"black"},r.a.createElement("div",{className:ge.a.footer},r.a.createElement("div",null,a.map((function(e){var a=e.link,n=e.to,o=e.exact;return r.a.createElement(i.c,{exact:o,key:a+n,className:ge.a.nav,activeClassName:ge.a.nav__active,to:n},t(a))}))),r.a.createElement(be.a,{horizontal:!0},r.a.createElement("div",{className:ge.a.footer__icon},r.a.createElement(he,{iconKey:"telegram"})),r.a.createElement("div",{className:ge.a.footer__icon},r.a.createElement(he,{iconKey:"instagram"})),r.a.createElement("div",{className:ge.a.footer__icon},r.a.createElement(he,{iconKey:"facebook"})))))})),xe=Object(d.b)()((function(e){var t=e.children;return r.a.createElement("div",null,t)}));xe.Header=pe,xe.Footer=Se;var ye,ke=xe,we=a(16),Ne=a(17),Ce=a(21),Le=a(22),Re=a(23),Fe=I.a.mark(We),Te=I.a.mark(Ae),qe=Object(D.a)("LOTS/LOTS_REQUEST"),Ue=Object(D.a)("LOTS/LOTS_SUCCESS"),Ie=Object(D.a)("LOTS/SET_LOTS"),De=Object(D.a)("LOTS/RESET"),Be={load:!1,lots:[]},Je=Object(B.a)((ye={},Object(f.a)(ye,qe,(function(e){return Object(u.a)({},e,{load:!0})})),Object(f.a)(ye,Ue,(function(e){return Object(u.a)({},e,{load:!1})})),Object(f.a)(ye,Ie,(function(e,t){var a=t.payload;return Object(u.a)({},e,{lots:a})})),Object(f.a)(ye,De,(function(){return Be})),ye),Be),Me=function(e){return e.lots};function We(){var e;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(J.d)(qe);case 3:return t.prev=3,t.next=6,W({url:"https://shop-app-brtshk.herokuapp.com/api/products"});case 6:return e=t.sent,console.log(e),t.next=10,Object(J.b)(Ie(e.data));case 10:return t.next=12,Object(J.b)(Ue());case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(3),console.error("get products",t.t0),t.next=19,Object(J.b)(Ue());case 19:t.next=0;break;case 21:case"end":return t.stop()}}),Fe,null,[[3,14]])}function Ae(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.a)([We()]);case 2:case"end":return e.stop()}}),Te)}var Ge=a(29),He=a.n(Ge),Pe=a(108),Qe=a.n(Pe),Xe=function(e){var t=e.handler,a=e.className,n=e.name,o=e.load,c=e.disabled,l=e.children;return r.a.createElement("button",{onClick:t,disabled:c,className:O()(Qe.a.button,a,Object(f.a)({},Qe.a.load,o))},n||l)},Ke=function(e){var t=e._id,a=e.productName,n=e.description,o=e.urlImage,c=e.quantity,l=(e.added,e.characteristic,e.price),i=(e.asset,e.user_id,e.edit),s=e.history;return r.a.createElement("div",{className:He.a.lot},r.a.createElement("div",{className:He.a.lot__container},r.a.createElement("div",{className:He.a.lot__image},r.a.createElement(R,{src:o,style:{height:"200px"}}),i&&r.a.createElement(Xe,{className:He.a.lot__edit,handler:function(){return s&&s.push("/lots-constructor/".concat(t))}},"Edit")),r.a.createElement("div",{className:He.a.lot__textContainer},r.a.createElement("div",{className:He.a.lot__title},a),r.a.createElement("div",null,r.a.createElement("div",{className:He.a.lot__buyDescription},r.a.createElement("div",{className:He.a.lot__price},l),r.a.createElement("div",null,r.a.createElement("span",{className:He.a.lot__fieldTitle},"quantity:")," ",c)),r.a.createElement("div",{className:He.a.lot__description},r.a.createElement("div",null,"Description:"),r.a.createElement("div",null,n))))))};Ke.Add=function(e){var t=e.hendler;return r.a.createElement("div",{className:He.a.lot},r.a.createElement("div",{className:He.a.lot__plus,onClick:t}))};var Ye=Ke,ze=a(130),Ve=a.n(ze),Ze=function(e){var t=e.lots,a=e.children,n=e.edit,o=Object(m.a)(e,["lots","children","edit"]);return r.a.createElement(_,null,r.a.createElement("div",{className:Ve.a.lotsList},a,t.map((function(e){return r.a.createElement(Ye,Object.assign({key:e._id},e,o,{edit:n}))}))))};Ze.AddLot=function(e){var t=e.hendler;return r.a.createElement(Ye.Add,{hendler:t})};var $e,et=Ze,tt=function(e){function t(){return Object(we.a)(this,t),Object(Ce.a)(this,Object(Le.a)(t).apply(this,arguments))}return Object(Re.a)(t,e),Object(Ne.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.lotsRequest)()}},{key:"render",value:function(){var e=this.props.lots.lots;return console.log(this.props),r.a.createElement("div",null,r.a.createElement(et,{lots:e}))}}]),t}(n.Component),at={lotsRequest:qe},nt=Object(o.b)((function(e){return{lots:Me(e)}}),at)(tt),rt=Object(d.b)()(Object(o.b)((function(e){return Object(u.a)({},e)}))((function(e){e.t,Object(m.a)(e,["t"]);var t=Object(n.useContext)(la);return r.a.createElement(ke,null,r.a.createElement(ke.Header,null),r.a.createElement("div",null,r.a.createElement(R,{src:t.images.slider[0]}),r.a.createElement(_,null,r.a.createElement(nt,null)),r.a.createElement(_,{backgroundColor:"#ccc"},r.a.createElement(w,null)),t.goods.map((function(e,t){return r.a.createElement(_,{key:t+e.src},r.a.createElement(q,e))}))),r.a.createElement(ke.Footer,null))}))),ot=function(e){var t=e.onSubmit,a=e.onSetField,n=e.login,o=e.password,c=e.user;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement("input",{name:"login",type:"text",value:n,onChange:a})),r.a.createElement("div",null,r.a.createElement("input",{name:"password",value:o,type:"password",onChange:a})),r.a.createElement("div",null,r.a.createElement("button",null,c.load?"load...":"Login"))))},ct=function(e){function t(){var e;return Object(we.a)(this,t),(e=Object(Ce.a)(this,Object(Le.a)(t).call(this))).resetForm=function(){return e.setState({login:"",password:""})},e.onSetField=function(t){var a=t.target;return e.setState(Object(f.a)({},a.name,a.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.login,r=a.password;(0,e.props.loginRequest)({login:n,password:r})},e.state={login:"mYyyyyyyy",password:"yyyyyyyyy"},e}return Object(Re.a)(t,e),Object(Ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.history,n=this.state,o=n.login,c=n.password;return t.name&&a.push("/"),r.a.createElement(ot,{onSubmit:this.onSubmit,onSetField:this.onSetField,login:o,password:c,user:t})}}]),t}(n.Component),lt={loginRequest:Y},it=Object(o.b)((function(e){return{user:te(e)}}),lt)(ct),st=a(131),ut=a.n(st),mt=a(132),dt=a.n(mt),pt=(a(164),function(e){var t=e.onSubmit,a=e.onSetField,n=e.fields,o=e.load;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:t},Object.entries(n).map((function(e){var t=Object(v.a)(e,2),n=t[0],o=t[1].value;return r.a.createElement("div",{key:n},r.a.createElement("label",null,n),"dateOfBirth"===n?r.a.createElement(dt.a,{dateFormat:"dd.MM.yyyy",selected:o,onChange:function(e){return a({target:{name:"dateOfBirth",value:e}})}}):r.a.createElement("input",{name:n,type:"text",value:o,onChange:a}))})),r.a.createElement("div",null,r.a.createElement("button",null,o?"load...":"Register"))))}),bt=function(e){function t(){var e;return Object(we.a)(this,t),(e=Object(Ce.a)(this,Object(Le.a)(t).call(this))).resetForm=function(){return e.setState({login:"",password:""})},e.onSetField=function(t){var a=t.target,n=e.state.fields;e.setState({fields:Object(u.a)({},n,Object(f.a)({},a.name,Object(u.a)({},n[a.name],{value:a.value})))})},e.onSubmit=function(t){t.preventDefault();var a=e.state.fields;(0,e.props.registerRequest)(Object.entries(a).reduce((function(e,t){var a=Object(v.a)(t,2),n=a[0],r=a[1].value;return Object(u.a)({},e,Object(f.a)({},n,"dateOfBirth"===n?ut()(r).format("YYYY_MM_DD"):r))}),{}))},e.state={fields:{name:{value:""},secondName:{value:""},login:{value:""},password:{value:""},dateOfBirth:{value:""},email:{value:""}}},e}return Object(Re.a)(t,e),Object(Ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.load,a=(e.history,this.state.fields);return r.a.createElement(pt,{fields:a,onSubmit:this.onSubmit,onSetField:this.onSetField,load:t})}}]),t}(n.Component),_t={registerRequest:X},ft=Object(o.b)((function(e){return{load:ae(e)}}),_t)(bt),vt=function(e){return r.a.createElement(ke,null,r.a.createElement(ke.Header,null),e.location.pathname.includes("login")?r.a.createElement(it,e):r.a.createElement(ft,e))},Et=function(e){function t(){var e;return Object(we.a)(this,t),(e=Object(Ce.a)(this,Object(Le.a)(t).call(this))).state={},e}return Object(Re.a)(t,e),Object(Ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user;e.history;return r.a.createElement("div",null,Object.entries(t).map((function(e){var t=Object(v.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{key:a},a,":",n)})))}}]),t}(n.Component),Ot=Object(o.b)((function(e){return{user:te(e)}}),{})(Et),ht=function(e){return r.a.createElement(ke,null,r.a.createElement(ke.Header,null),r.a.createElement(Ot,e),r.a.createElement(ke.Footer,null))},jt=a(86),gt=I.a.mark(qt),St=I.a.mark(Ut),xt=I.a.mark(It),yt=Object(D.a)("USER_LOTS/USER_LOTS_REQUEST"),kt=Object(D.a)("USER_LOTS/USER_LOTS_SUCCESS"),wt=Object(D.a)("USER_LOTS/SET_USER_LOTS"),Nt=Object(D.a)("USER_LOTS/CREATE_LOT_REQUEST"),Ct=Object(D.a)("USER_LOTS/CREATE_LOT_SUCCESS"),Lt=Object(D.a)("USER_LOTS/RESET"),Rt={load:!1,userLots:[]},Ft=Object(B.a)(($e={},Object(f.a)($e,yt,(function(e){return Object(u.a)({},e,{load:!0})})),Object(f.a)($e,kt,(function(e){return Object(u.a)({},e,{load:!1})})),Object(f.a)($e,wt,(function(e,t){var a=t.payload;return Object(u.a)({},e,{userLots:a})})),Object(f.a)($e,Lt,(function(){return Rt})),Object(f.a)($e,Nt,(function(e){return Object(u.a)({},e,{load:!0})})),Object(f.a)($e,Ct,(function(e){return Object(u.a)({},e,{load:!1})})),$e),Rt),Tt=function(e){return e.userLots};function qt(){var e,t;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(J.d)(yt);case 3:return a.next=5,Object(J.c)(te);case 5:return e=a.sent,a.prev=6,a.next=9,W({params:{token:e.token},url:"https://shop-app-brtshk.herokuapp.com/api/products/userid/".concat(e.id,"?token=").concat(e.token),method:"get"});case 9:return t=a.sent,console.log(t),a.next=13,Object(J.b)(wt(t.data));case 13:return a.next=15,Object(J.b)(kt());case 15:a.next=22;break;case 17:return a.prev=17,a.t0=a.catch(6),console.error("get user lots",a.t0),a.next=22,Object(J.b)(kt());case 22:a.next=0;break;case 24:case"end":return a.stop()}}),gt,null,[[6,17]])}function Ut(){var e,t,a,n,r;return I.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,Object(J.d)(Nt);case 3:return e=o.sent,t=e.payload,o.next=7,Object(J.c)(te);case 7:return a=o.sent,o.next=10,Object(J.c)(Tt);case 10:return n=o.sent,o.prev=11,o.next=14,W({params:Object(u.a)({},t,{user_id:a.id,token:a.token}),url:"https://shop-app-brtshk.herokuapp.com/api/products",method:"post"});case 14:return r=o.sent,console.log(r),o.next=18,Object(J.b)(wt([].concat(Object(jt.a)(n),[r.data])));case 18:return o.next=20,Object(J.b)(Ct());case 20:o.next=27;break;case 22:return o.prev=22,o.t0=o.catch(11),console.error("create lot",o.t0),o.next=27,Object(J.b)(Ct());case 27:o.next=0;break;case 29:case"end":return o.stop()}}),St,null,[[11,22]])}function It(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.a)([qt(),Ut()]);case 2:case"end":return e.stop()}}),xt)}var Dt=function(e){function t(){var e,a;Object(we.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Ce.a)(this,(e=Object(Le.a)(t)).call.apply(e,[this].concat(r)))).callLotConstructor=function(){var e=a.props.history;console.log(a.props),e&&e.push("/lots-constructor")},a}return Object(Re.a)(t,e),Object(Ne.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.userLotsRequest)()}},{key:"render",value:function(){var e=this.props,t=e.userLots.userLots,a=Object(m.a)(e,["userLots"]);return r.a.createElement("div",null,r.a.createElement(et,Object.assign({lots:t,edit:!0},a),r.a.createElement(et.AddLot,{hendler:this.callLotConstructor})))}}]),t}(n.Component),Bt={userLotsRequest:yt},Jt=Object(o.b)((function(e){return{userLots:Tt(e)}}),Bt)(Dt),Mt=function(e){return r.a.createElement(ke,null,r.a.createElement(ke.Header,null),r.a.createElement(Jt,e),r.a.createElement(ke.Footer,null))},Wt=function(e){return r.a.createElement(ke,null,r.a.createElement(ke.Header,null),r.a.createElement(nt,e),r.a.createElement(ke.Footer,null))},At=function(e){var t=e.onSubmit,a=e.onSetField,n=e.fields,o=e.load;return r.a.createElement("form",{style:{marginRight:"40px"},onSubmit:t},Object.entries(n).map((function(e){var t=Object(v.a)(e,2),n=t[0],o=t[1].value;return r.a.createElement("div",{key:n},r.a.createElement("label",{style:{width:"150px"}},n),r.a.createElement("input",{name:n,type:"text",value:o,onChange:a}),"urlImage"===n&&r.a.createElement("div",null,r.a.createElement(R,{style:{width:"200px"},src:o})))})),r.a.createElement("div",null,r.a.createElement("button",null,o?"load...":"Register")))},Gt={productName:{value:""},description:{value:""},urlImage:{value:""},quantity:{value:""},added:{value:""},characteristic:{value:""},asset:{value:""},price:{value:""}},Ht=function(e){function t(){var e;return Object(we.a)(this,t),(e=Object(Ce.a)(this,Object(Le.a)(t).call(this))).resetForm=function(){return e.setState({fields:Gt})},e.onSetField=function(t){var a=t.target,n=e.state.fields;e.setState({fields:Object(u.a)({},n,Object(f.a)({},a.name,Object(u.a)({},n[a.name],{value:a.value})))})},e.onSubmit=function(t){t.preventDefault(),t.preventDefault();var a=e.state.fields;(0,e.props.createLotRequest)(e.accumulateFields(a))},e.accumulateFields=function(e){return Object.entries(e).reduce((function(e,t){var a=Object(v.a)(t,2),n=a[0],r=a[1].value;return Object(u.a)({},e,Object(f.a)({},n,r))}),{})},e.state={fields:Gt},e}return Object(Re.a)(t,e),Object(Ne.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params,a=e.userLots;if(t.id){var n=a.userLots.filter((function(e){return e._id===t.id}))[0];n&&this.setState({fields:Object.entries(n).reduce((function(e,t){var a=Object(v.a)(t,2),n=a[0],r=a[1];return Object(u.a)({},e,Object(f.a)({},n,{value:r}))}),{})})}}},{key:"render",value:function(){var e=this.props,t=(e.user,e.history,this.state.fields);return console.log("this.props;",this.props.match),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"40px 0"}},r.a.createElement(At,{onSubmit:this.onSubmit,onSetField:this.onSetField,fields:t}),console.log(t),r.a.createElement(Ye,this.accumulateFields(t)))}}]),t}(n.Component),Pt={createLotRequest:Nt},Qt=Object(o.b)((function(e){return{userLots:Tt(e)}}),Pt)(Object(s.f)(Ht)),Xt=function(e){return r.a.createElement(ke,null,r.a.createElement(ke.Header,null),console.log(e),r.a.createElement(Qt,null),r.a.createElement(ke.Footer,null))};var Kt=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:rt}),r.a.createElement(s.a,{path:"/lots",component:Wt}),r.a.createElement(s.a,{path:"/authentication/login",component:vt}),r.a.createElement(s.a,{path:"/authentication/registration",component:vt}),r.a.createElement(s.a,{path:"/user/profile",component:ht}),r.a.createElement(s.a,{path:"/user/lots",component:Mt}),r.a.createElement(s.a,{path:"/lots-constructor/:id",component:Xt}),r.a.createElement(s.a,{path:"/lots-constructor",component:Xt}),r.a.createElement(s.a,{path:"/about"},r.a.createElement("div",null,"456")),r.a.createElement(s.a,null,r.a.createElement("div",null,"789")))," "))},Yt={en:{translation:a(134)},ua:{translation:a(135)},ru:{translation:a(136)}};le.a.use(d.a).init({resources:Yt,lng:"en",fallbackLng:["en","ua","ru"],keySeparator:!1,interpolation:{escapeValue:!1}});le.a,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(221);var zt=a(137),Vt=a(37),Zt=a(138),$t={user:ee,userLots:Ft,lots:Je},ea=I.a.mark(ta);function ta(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.a)([ce(),It(),Ae()]);case 2:case"end":return e.stop()}}),ea)}var aa={};try{aa=JSON.parse(localStorage.getItem("user"))||{}}catch(ia){console.error("set initial state error: ",ia)}var na="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Vt.d,ra=Object(Zt.a)(),oa=Object(Vt.e)(Object(Vt.c)($t),aa,na(Object(Vt.a)(ra,(function(e){return function(e){return function(t){console.log(t),e(Object(u.a)({},t))}}}))));ra.run(ta);var ca=oa;a.d(t,"DataContext",(function(){return la}));var la=r.a.createContext({});l.a.render(r.a.createElement(o.a,{store:ca},r.a.createElement(la.Provider,{value:zt},r.a.createElement(Kt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},29:function(e,t,a){e.exports={lot:"lot_lot__3N6PX",lot__textContainer:"lot_lot__textContainer__2xbDI",lot__title:"lot_lot__title__2aA2n",lot__description:"lot_lot__description__2qF7t",lot__container:"lot_lot__container__2EoQx",lot__image:"lot_lot__image__FjuSV",lot__buyDescription:"lot_lot__buyDescription__3avXz",lot__fieldTitle:"lot_lot__fieldTitle__2bFCG",lot__price:"lot_lot__price__10j38",lot__edit:"lot_lot__edit__21lgJ",lot__plus:"lot_lot__plus__j8xfy"}},32:function(e,t,a){e.exports={sendForm:"send-form_sendForm__3XRrG",sendForm__field:"send-form_sendForm__field__upvfZ",sendForm__fieldContainer:"send-form_sendForm__fieldContainer__2IJEq",sendForm__send:"send-form_sendForm__send__2A-nG",error:"send-form_error__24ync"}},58:function(e,t,a){e.exports={footer:"footer_footer__ANhX2",footer__icon:"footer_footer__icon__3ZWoM",nav:"footer_nav__3QGXH",nav__active:"footer_nav__active__3Jkbx"}},66:function(e,t,a){e.exports={ShowBlock:"show-block_ShowBlock__3Zxbt",ShowBlock__text:"show-block_ShowBlock__text__1EcJ9",ShowBlock_reverse:"show-block_ShowBlock_reverse__1tygP",ShowBlock__image:"show-block_ShowBlock__image__1xMsq"}}},[[139,1,2]]]);
//# sourceMappingURL=main.e89b9ba7.chunk.js.map